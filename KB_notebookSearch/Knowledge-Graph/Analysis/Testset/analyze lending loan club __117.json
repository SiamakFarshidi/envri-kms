{"name": "analyze lending loan club ", "full_name": " h1 Who is paying and NOT paying the loan h2 About dataset ", "stargazers_count": 0, "forks_count": 0, "description": "About dataset This dataset was provided by Kaggle and can be accessed from here Lending Club Loan Data https www. You can therefor think of LendingClub s role in these transactions as a credit auditor. Employement Length For Issued Loans SummaryIn the above chart we can see that a significant number of our customers have been employeed for 10 or more years. Iowa has the highest Default rate. What data points are important in determining if someone will repay After answering these questions we explore making accurate machine learning algorithims and attempt to answer our core question. We have no reasonable expectation to receive this money back3. In this section we will look at some machine learning examples. Loan Amount Base on GradeThe next question we wanted to answer was What kind of loans are being issued. Nearly 100 of those guessed to be in default were in default using only information available at the time of the loan being issued. Similiarily recently issued loans could mislead our analysis as no payment has been expected yet. 39 accurate at predicting who is late or in default. Loan description may be useful to some but the much more conciese loan purpose fits our needs User provided information. The second algorithm uses an undersampling technique called One Sided Selection. SumarryLendingClubs assigned Grades are actually fairly accurate or at least logical. The first algorithm simply splits the entire data set into two groups the first 70 it learns from and it tests its accuracy on the remaining 30. Short clip for this analysis Lending Club Loan Video https youtu. Even with a reasonable depth and feature selection our algorithim is less accurate. The above output perfectly highlights the effect of an imbalanced data set. For this run we use the undersampled data to train the algorithm and the entire dataset to test accuracy. We no longer care about the past2. create loan amount by state column create number of loan issued by state column create average loan amount column create average employment length change index from state abbreviation to numeric value population by states from http worldpopulationreview. Here we run each algorithm twice with a perspective of our data. While it is an impressive sounding 98. Interestingly we are 99. They are likely generated using a clustering algorithm and would provide artificial insight into the borrowers. With low p value we can reject null hypothesis. Summary The lower grade the higher loan amount loan issued F. Overall it s only 1 less accurate than our prediction above. In Grace Period and Late 16 30 days have the highest loan amount and mean. Splitting up the data setNot only is it important to give our algorithms data to learn from but also to test their accuracy. Summary Interest rate varies wildly reaching nearly 30 for high risk loans Grade A has the lowest interest rate around 7 Grade G has the highest interest rate above 25 E. It indicates there is correlation between int_rate and loan_status Summary On the simple heatmap it is difficult to find correlation between loan_status and other factors However on the statistical analysis we also cannot ignore the heatmap result base on null hypothesis analysis We need to further analyse images statistics. Loan status by gradeWe were also curious how accurate LendingClub s Grades were. The data did not include the age of our customers but from this data we can say that many of LendingClub customers are 30. However due to the extreme imbalance in that data set that 1 is all that matters. How accurate is LendingClubs loan grading system 4. We found some records with a loan_status of Does not meet the credit policy. As we can see in the code below even with a depth of 20 allowing it potentially over a million classification rules 2 20 1 nodes against 8 most relevant columns of our 12 we still lose 11 of our total accuracy 90 000 more incorrect predictions The same issue persists in the second perspective moving forward. It indicates there is correlation between term and loan_status With low p value we can reject null hypothesis. To accomplish this analysis we do three things to our data 1. LendingClub is a peer to peer loan provider meaning they allow people to apply for loans and other individuals or companies to furfil those loans. The loan_status column is the source of our answer to the core question if people are paying the loans they take out. Many factors grade loan_amnt and int_rate seem they also have high correlation with term. Interest Rate base on GradeWe also wanted to look at the distribution of interst rate that loans are given based on their LendingClub assigned grade. LendingClub itself needs not finance any loans with their own money but has a responsability to its customers to verify that those who are applying for loans have the ability to pay in a timely manner. Loan StatusNext we wanted to take a look at some data points regarding the status of loans. What kind of loans are being given out 3. Data removalWe ve identified several columns that fit into one of the following categories Unneccesary data such as the URL to view the loan Redundant data. jpg Our missionIn order to provide meaningful analysis of LendingClub s customers we first need to understand a little bit about the business and several key questions. In the above chart we can see that our loan status is highly imbalanced with very few customers being late 16 30 days and many customers being current or paid off. The Grade is a value from A to G that is a culmination of LendingClubs own analysis on the ability for the customer to repay the grade. Understanding the algorithmsUnfortunantly this data sets are rather complex. Predicting payoffs for outstanding loansThe above algorithims are doing classification on every status of loan from paid off to charged off. Drop charged off loans. 9997 accurate at correctly classifying borrowers who are caught up on payments. The core queston for LendingClub becomes Who can repay their loans. A significant amount of data remains and we will move forward with the following columns remaining AnalysisWe first begin to look at our data to better understand our demographics. Import basic data science packages A helper function that converts a b a c into 1 2 1 3 This allows the machine learning algorithims to work on integers instead of strings Drop unneccesary columns make temporary dataframe in order to keep original dataframe check employment length Using regex to easy convert Loan amount by its status clean plot Import map visulization libraries create dataframe that holds values by state. Because a majority of our data fits into only 2 of our 7 loan status categories we must be careful that our algorithm doesn t simply decide to put all loans into those two categories and call it a day. com wendykan lending club loan data. Who is paying and NOT paying the loan by Jay Ko and Richard Petrie On my honor as a student I have neither given nor received unauthorized aid on this academic work. Lower graded loans are less likely to pay as expected. Typically we would like to create simpilier but less accurate algorithims in order to export how they made their decision and understand some of the key patterns it found. There are still several highly valuable things that can be taken from this algorithm 1. SummaryAs we can see the second algorithm trained with the one sided selection data is significantly more accurate reaching up to 88. 76 accurate in classifying the loan status of our customers. This could be due to the age of the loans Default has the highest count among other loan status. Employer titles may offer some insight into employment industry but would need significant cleanup to provide useful statistics Operational data. Future workIt would be intersting to take some of the recently issued loans that were excluded from our data set predict their loan status now and test the accuracy of the predictions once the loan term is up. Additionally it would have been nice to include unfilled loans in the dataset. There is no correlation between term and loan_status. This is great of predicting the status of future customers but is a little too complex for predicting the fate of currently outstanding loans which could help budget for the future of the company. jpg Machine LearningOne thing that may be clear by now is that there is simply too much data to accuratly understand the data without a significant time investment. Luckily we no longer have to do the work. 5 year column is a replacement of the 1 year employment value B. 1 accurate where it matters. According to its description this dataset contains completed load data for all all loans issued through the 2007 2015 including the current loan status and latest payment information. Exploratory Data G 1. As these data points will provide no value moving forward we ve ecluded them from our data. Region Summary Alaska has the highest Average Loan Amount. California has the highest Total Loan Amount. Notes The 10 year column is for 10 years of employment which is as high as the data went. Out of the 5 996 instances of the algorithm predicting the borrower would be late only 2 were errors. We decided to approach this by the grade that LendingClub assigns to the loan. Like the above LendingClub could use this information to screen applicants and reduce the number of loans provided to people who are extremely unlikely to pay on time. Group late loans into a single categoryWith these three actions taken we can ask our algorithim to look at only our current loans and predict if they will pay on time pay late or default on their loans. Stated otherwise we are 45. The next payment date for the loan at the time the data was generated is not relevant to usAdditionally we identified some rows that we decided were not relevant to our needs. To state otherwise if this algorithm classifies someone as in default there is an extremely high degree of confidence they will default. It does not seem like loan_status is correlated to other factors G 2 Statistical TestingNull Hypothesis There is no correlation between grade and loan_status. We start by taking a look at the length of employment for our customers. This data set is a matrix of about 890 000 observations and 75 columns images cash. 98 of those errors are in non current customers which we care about the most. com states add more columns create num_default column create default_rate column create average dti by the state plotly color setting create text column setting plotly and deploy the map create new dataset for exploratory analysis import necessary libraries for statistical testing Data set up We specifically exclude LendingClub s grades. We believe these may be older loans that would simply not be accepted under LendingClubs current criteria. It indicates there is correlation between grade and loan_status With low p value we can reject null hypothesis. Summary Fully Paid loans tend to be smaller. This is a look into what percentage of loans are current or already paid off by grade. We can see from the confusion matric that out of 15 167 non current customers it placed 10 correctly less than 0. Who is getting loans 2. To support this question we first ask severl other questions 1. Maine has the highest DTI and 0 default rate G. be Ct35lwyPWYw Data processingThe first step to understanding our data is to clean up our data and identify columns that are important or not important. Heatmap Summary sub_grade and term seem they have high correlation. There is no correlation between int_rate and loan_status. This will be important later. We continue to use the one sided selection due to the imbalanced number of current loans. ", "id": "jkjay333/analyze-lending-loan-club", "size": "117", "language": "python", "html_url": "https://www.kaggle.com/code/jkjay333/analyze-lending-loan-club", "git_url": "https://www.kaggle.com/code/jkjay333/analyze-lending-loan-club", "script": "sklearn.tree plotly.offline categorize RandomUnderSampler pandas.tools plot DecisionTreeClassifier iplot seaborn numpy download_plotlyjs plotly.graph_objs plotly tools sklearn.ensemble sklearn metrics sklearn.model_selection RandomForestClassifier matplotlib.pyplot stats imblearn.under_sampling pandas plotting svm scipy init_notebook_mode OneSidedSelection train_test_split plotly.plotly ", "entities": "(('kind', '3'), 'give') (('second algorithm', 'significantly more accurate 88'), 'see') (('loan term', 'predictions'), 'interste') (('which', 'company'), 'be') (('LendingClub', 'loan'), 'decide') (('Nearly 100', 'loan'), 'be') (('payment', 'analysis'), 'mislead') (('that', 'data'), 'set') (('Loan StatusNext we', 'loans'), 'want') (('we', 'needs'), 'be') (('we', 'core question'), 'be') (('records', 'credit policy'), 'find') (('loans', 'LendingClub assigned grade'), 'want') (('we', 'most'), 'be') (('they', 'high correlation'), 'seem') (('many', 'LendingClub customers'), 'include') (('algorithm doesn', 'it'), 'be') (('they', 'extremely high confidence'), 'be') (('above output', 'data imbalanced set'), 'highlight') (('as data', 'employment'), 'Notes') (('Additionally it', 'dataset'), 'be') (('dataset', 'Lending Club Loan Data https www'), 'provide') (('Overall it', 'only 1 less prediction'), 's') (('kind', 'loans'), 'Base') (('who', 'extremely time'), 'use') (('who', 'payments'), 'accurate') (('still several highly valuable that', 'algorithm'), 'be') (('it', 'key patterns'), 'like') (('16 late 30 days many customers', 'above chart'), 'see') (('setNot only it', 'also accuracy'), 'be') (('feature algorithim', 'Even reasonable depth'), 'be') (('Region Summary Alaska', 'Average Loan highest Amount'), 'have') (('year 5 column', 'year employment 1 value'), 'be') (('You', 'credit auditor'), 'think') (('Employer titles', 'useful statistics Operational data'), 'offer') (('also how Grades', 'gradeWe'), 'be') (('we', 'entire accuracy'), 'use') (('we', 'null hypothesis'), 'indicate') (('customer', 'grade'), 'be') (('Luckily we', 'longer work'), 'have') (('we', 'better demographics'), 'remain') (('We', 'specifically grades'), 'add') (('significant number', '10 years'), 'Length') (('older that', 'simply LendingClubs current criteria'), 'believe') (('Default', 'loan other status'), 'be') (('percentage', 'already grade'), 'be') (('Summary loan amount lower grade higher loan', 'F.'), 'issue') (('that', 'time significant investment'), 'be') (('we', 'machine learning examples'), 'look') (('it', 'remaining 30'), 'split') (('data set', '890 about 000 observations'), 'be') (('They', 'borrowers'), 'generate') (('We', 'current loans'), 'continue') (('that', 'state'), 'package') (('Here we', 'data'), 'run') (('that', 'loan Redundant data'), 'identify') (('loan amount average column', 'http worldpopulationreview'), 'create') (('forward we', 'data'), 'eclude') (('We', 'money'), 'have') (('who', 'default'), 'accurate') (('they', 'loans'), 'be') (('We', 'images further statistics'), 'indicate') (('Who', 'loans'), 'become') (('it', '10 correctly less than 0'), 'see') (('loan_status', 'TestingNull G 2 Statistical grade'), 'seem') (('We', 'customers'), 'start') (('who', 'timely manner'), 'need') (('we', 'data'), 'do') (('User', 'information'), 'be') (('we', 'null hypothesis'), 'reject') (('we', 'business'), 'jpg') (('Predicting', 'loan'), 'do') (('Grade around 7 G', '25 E.'), 'vary') (('they', 'late loans'), 'loan') (('same issue', 'second perspective'), 'lose') (('I', 'academic work'), 'pay') (('grade they', 'term'), 'seem') (('Maine', 'highest DTI'), 'have') (('second algorithm', 'undersampling technique'), 'use') (('we', 'other questions'), 'ask') (('dataset', 'loan current status'), 'contain') (('California', 'Total Loan highest Amount'), 'have') (('that', 'columns'), 'be') (('people', 'other loans'), 'be') ", "extra": "['test']", "label": "Perfect_files", "potential_description_queries": ["accuracy", "age", "algorithm", "answer", "apply", "approach", "average", "basic", "bit", "call", "care", "chart", "check", "classification", "clean", "clear", "clip", "clustering", "code", "color", "column", "confidence", "confusion", "convert", "core", "correlation", "could", "count", "create", "credit", "current", "customer", "data", "dataframe", "dataset", "date", "decision", "default", "degree", "depth", "description", "distribution", "effect", "even", "every", "expected", "explore", "export", "feature", "find", "fit", "following", "forward", "found", "function", "future", "generated", "grade", "grading", "heatmap", "help", "helper", "high", "http", "ignore", "imbalance", "import", "include", "including", "index", "industry", "interest", "issue", "itself", "key", "learn", "learning", "least", "length", "little", "load", "loan", "look", "lower", "majority", "map", "matrix", "meaning", "most", "move", "my", "need", "new", "next", "no", "non", "not", "null", "number", "numeric", "order", "out", "output", "people", "percentage", "plot", "plotly", "population", "predict", "prediction", "provide", "provider", "purpose", "question", "reduce", "replacement", "result", "risk", "role", "run", "science", "screen", "second", "section", "selection", "set", "several", "single", "source", "start", "state", "step", "student", "support", "system", "technique", "term", "test", "testing", "text", "think", "those", "through", "time", "total", "train", "under", "undersampling", "understanding", "up", "value", "verify", "view", "who", "work", "year"], "potential_description_queries_len": 156, "potential_script_queries": ["iplot", "numpy", "plotly", "plotting", "scipy", "seaborn", "sklearn", "svm"], "potential_script_queries_len": 8, "potential_entities_queries": ["current", "high", "loan", "several"], "potential_entities_queries_len": 4, "potential_extra_queries": [], "potential_extra_queries_len": 0, "all_components_potential_queries_len": 163}