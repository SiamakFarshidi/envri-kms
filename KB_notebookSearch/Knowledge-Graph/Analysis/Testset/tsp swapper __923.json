{"name": "tsp swapper ", "full_name": " h1 Local neighborhood search swapping by solving the Traveling Salesman Problem ", "stargazers_count": 0, "forks_count": 0, "description": "My previous notebook has more forks than upvotes Read our input Read our submission TSP will minimize costs but we want to maximize. This already improves a strong greedy solution but is still not yet optimal due to the fact that I only swap the order of subsequences of slides around. I will not look for better pairs of vertical photos to put on a slide. You can play around with the hyper parameters SUBSEQ_LEN and TIME_LIMIT to get a better score. If you like the notebook or you use it for your submission please do not forget to upvote it I do not like to ask for this but apparently it is needed in this competition. Create the routing index manager. We use the last element of the previous subsequence as starting point to determine the costs and the first element of the next subsequence as ending point. com group16 greedy solution lb 400k. Convert from routing variable Index to distance matrix NodeIndex. Define cost of each arc. Local neighborhood search swapping by solving the Traveling Salesman ProblemIn this notebook I show how we can iteratively improve our solution by taking subsequences and then solving the TSP using Google OR Tools on that subsequence. This is a simple hack 0 will be a dummy starting location. i 1 because our 0 corresponds to the dummy and 1 corresponds to sequence 0 The swapping could reduce the score due to the transitions of the beginning and ending of the subsequence in the total sequence CHECKS 1 We dont want duplicates 2 We want vertical pictures to always be paired with another vertical picture 3 We don t want horizontal pictures to be paired 4 Preferably we assign all of the pictures to slides 5 We cannot assign a picture to two different slides. The initial greedy solution was generated in this notebook https www. Setting initial solution Solve the problem. Create Routing Model. ", "id": "group16/tsp-swapper", "size": "923", "language": "python", "html_url": "https://www.kaggle.com/code/group16/tsp-swapper", "git_url": "https://www.kaggle.com/code/group16/tsp-swapper", "script": "defaultdict ortools.constraint_solver cost cost2 sequence_cost collections numpy pywrapcp routing_enums_pb2 distance_callback tqdm ", "entities": "(('we', 'costs'), 'have') (('5 We', 'two different slides'), 'i') (('initial greedy solution', 'notebook https www'), 'generate') (('We', 'point'), 'use') (('I', 'slides'), 'improve') (('apparently it', 'competition'), 'forget') (('how we', 'subsequence'), 'swap') (('You', 'better score'), 'play') (('I', 'slide'), 'look') (('Setting', 'problem'), 'solve') ", "extra": "", "label": "No_extra_files", "potential_description_queries": ["assign", "cost", "could", "distance", "dummy", "fact", "generated", "improve", "index", "input", "look", "matrix", "minimize", "neighborhood", "next", "not", "notebook", "order", "picture", "point", "reduce", "score", "search", "sequence", "solution", "submission", "subsequence", "total", "variable", "vertical"], "potential_description_queries_len": 30, "potential_script_queries": ["defaultdict", "numpy", "tqdm"], "potential_script_queries_len": 3, "potential_entities_queries": [], "potential_entities_queries_len": 0, "potential_extra_queries": [], "potential_extra_queries_len": 0, "all_components_potential_queries_len": 32}