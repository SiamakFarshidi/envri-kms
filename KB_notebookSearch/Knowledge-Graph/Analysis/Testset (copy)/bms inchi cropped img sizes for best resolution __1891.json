{"name": "bms inchi cropped img sizes for best resolution ", "full_name": " h1 Some statistics to choose the input resolution for your InChI predictor h1 Adapted crop function h1 Check cropped train images h1 Check cropped test images h1 Image analysis function h1 Train image statistics h1 Test image statistics h1 Images with extremly low width or height h1 Find best input resolution ", "stargazers_count": 0, "forks_count": 0, "description": "What ratio and image resolution did you choose as input for your InChI prediction model What were the reasons Feel free to comment below and or leave a vote if you find this kernel helpful Adapted crop functionThe crop function from the original source above was adapted to ignore noise pixels and thus crop the real molecule structure only without removing the noise first. Credits I adapted the crop function from https www. Some statistics to choose the input resolution for your InChI predictorAnalysis of train and test images random sample in the Bristol Myers Squibb Molecular Translation Competition https www. Train image statistics Test image statistics Images with extremly low width or heightThere are some images with extremly low height after cropping. Checking if crop function made a mistake. I did this analysis to learn more about the images we are given especially after they are cropped. Check cropped train images Check cropped test images Image analysis functionImage width and height are swapped if height width for orginal versions as well as cropped versions. In the end you can find a summary with the fractions of images that need to be shrinked after cropping for different input resolutions together with the mean shrink factor and more statistics for each resolution. In this summary width height ratios of around 2 seems to work best. com c bms molecular translation to find a suitable input image ratio and resolution. Note that image width and height are swapped if height width for orginal versions as well as cropped versions. Find best input resolution sorting again after sampling seems to make the file access slightly faster for large IMAGE_NUM idea pad with contour_min_size pixels just in case we cut off a small part of the structure that is separated by a missing pixel rotate counter clockwise to get horizontal images ignore contours under contour_min_size pixels collect position of small contours starting with contour_min_size pixels enlarge the found crop box if it cuts out small stuff that is very close by make sure we get the crop within a valid range 255 need for cropping to work mean shrink factor largest of the two factors to decrease image width and or height to fit the image into the input size 1 if image fits already root mean square. com markwijkhuizen advanced image cleaning and tfrecord generation great TFRecord kernel Hi everyone I ve seen different choices of the image resolution and w h ratio so far some use squares some rectangles. ", "id": "michaelwolff/bms-inchi-cropped-img-sizes-for-best-resolution", "size": "1891", "language": "python", "html_url": "https://www.kaggle.com/code/michaelwolff/bms-inchi-cropped-img-sizes-for-best-resolution", "git_url": "https://www.kaggle.com/code/michaelwolff/bms-inchi-cropped-img-sizes-for-best-resolution", "script": "check_resolutions seaborn numpy matplotlib.pyplot analyse_img_sizes tqdm.notebook plot_extreme_images get_res pandas check_cropping calc_shrink_factors tqdm crop ", "entities": "(('Credits I', 'https www'), 'adapt') (('especially they', 'images'), 'do') (('that', 'more resolution'), 'find') (('Train image statistics Test image statistics Images', 'extremly low height'), 'be') (('image width', 'height orginal versions'), 'note') (('kernel', 'only noise'), 'choose') (('crop function', 'mistake'), 'check') (('height', 'height orginal versions'), 'crop') (('image tfrecord com markwijkhuizen advanced great everyone I', 'w h use so far rectangles'), 'cleaning') (('already root', 'input size'), 'find') ", "extra": "['test']", "label": "Perfect_files", "potential_description_queries": ["advanced", "best", "box", "case", "choose", "cleaning", "close", "comment", "crop", "cut", "end", "everyone", "factor", "faster", "file", "find", "fit", "found", "function", "generation", "height", "idea", "ignore", "image", "input", "kernel", "largest", "learn", "leave", "mean", "missing", "model", "molecule", "need", "noise", "out", "pad", "part", "pixel", "position", "prediction", "random", "range", "ratio", "resolution", "rotate", "sample", "sampling", "size", "source", "structure", "stuff", "summary", "test", "tfrecord", "train", "under", "valid", "vote", "width", "work"], "potential_description_queries_len": 61, "potential_script_queries": ["numpy", "seaborn", "tqdm"], "potential_script_queries_len": 3, "potential_entities_queries": ["everyone", "tfrecord"], "potential_entities_queries_len": 2, "potential_extra_queries": [], "potential_extra_queries_len": 0, "all_components_potential_queries_len": 63}