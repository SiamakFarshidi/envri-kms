{"name": "hpa single cell classification eda ", "full_name": " h3 Nice people that enjoy this notebook also press the upvote button h1 Contents h1 1 Data h2 1 1 Training and submission files h2 1 2 Labels distribution h2 1 3 Combinations of classes h1 2 Images h2 2 1 Channels h2 2 2 Combining Channels h2 2 3 Visualize single classes h1 3 Metric h1 4 Competition Notes h1 5 Solution Approaches h1 6 Resources h2 6 1 Datasets h1 To be continued ", "stargazers_count": 0, "forks_count": 0, "description": "png for the PNG files. Resources These resources may be helpful to learn more about the domain and or approach these challenge. All we can say is that in this competition a large part of all human proteins are included in either the train or test set. They are involved in maintaining the structure of the cell and together with microfilaments and intermediate filaments they form the cytoskeleton. Any combination of patterns can be possible for a single cell except 18 if the cell s staining is Negative there isn t any other pattern. Data data Training and submission files \u8bad\u7ec3\u4e0e\u63d0\u4ea4 Labels distribution \u6807\u7b7e\u5206\u5e03 Combinations of classes \u7c7b\u522b\u95f4\u5173\u7cfb2. Colors are red for microtubule channels blue for nuclei channels yellow for Endoplasmic Reticulum ER channels and green for protein of interest. com c hpa single cell image classification discussion 215981 \u901a\u8fc7\u7eff\u8272\u901a\u9053\u53bb\u5224\u65ad\u7ec6\u80de\u7684\u7c7b\u522b \u5982\u679c\u7eff\u8272\u548c\u7ea2\u8272\u91cd\u53e0 \u90a3\u5c31\u662f\u5fae\u7ba1 Note that Negative cells will be present in images labeled as other classes as well. org humanproteome cell organelle Dictionary by HPA Cell Structure part https www. Also in the training data can we consider this category as a garbage term or a none of the above. What do these labels represent The descriptions below are taken from this notebook shared by the organizers https www. R\u8868\u793a\u5fae\u7ba1 B\u8868\u793a\u7ec6\u80de\u6838 Y\u8868\u793a\u5185\u8d28\u7f51 G\u8868\u793a\u5173\u6ce8\u7684\u86cb\u767d\u8d28 2. com c hpa single cell image classification discussion 220748 Single cell label accuracy in test set The test set consists of images where each single cell has been annotated independently. If the model predicts a class on a region of the image that is not a cell this is also counted as 1 False Positive for that class. However many individual cells only have Nucleoplasm as label and many don t have green staining hence they are Negative. com lnhtrang single cell patterns \u867d\u7136\u57fa\u56e0\u76f8\u540c \u4f46\u4e0d\u540c\u7ec6\u80de\u4e4b\u95f4\u4f9d\u7136\u53ef\u4ee5\u8868\u73b0\u51fa\u5404\u79cd\u5f62\u6001\u4e0a\u7684\u5dee\u5f02 \u8fd9\u79f0\u4e3aSCV A cell line is like your explanation says a population of cells that can be grown for a long time. The reference channels red green blue can also help you to get an overview of the cell certain patterns will always be distributed in a certain way in correlation to these. Aggresome \u805a\u96c6\u4f53 \u5f02\u5e38\u86cb\u767d\u5305\u6db5\u4f53 \u805a\u96c6\u5c0f\u4f53 \u4fb5\u88ad\u4f53 \u4fb5\u88ad\u4f53\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u4e00\u79cd\u81f4\u5bc6\u7684\u80de\u8d28\u5305\u6db5\u4f53 \u5b83\u901a\u5e38\u88ab\u53d1\u73b0\u9760\u8fd1\u7ec6\u80de\u6838 \u5728\u5fae\u7ba1\u7f51\u7edc\u88ab\u7834\u574f\u7684\u533a\u57df 16. What is the distribution of these labels I wonder especially how many images have only one label unique counts and what is the overall number of images for each label Looking at the chart below we can see it s an imbalanced dataset and labels 11 and 18 are going to be especially problematic. For negative samples it is not uncommon that lets say 4 images show no staining while the remaining 2 show some unspecific staining or some granular pattern. com lnhtrang single cell patterns Paper https www. Now looking at the sample submission we realize this is actually not a multi label classification but instead an instance segmentation task. org HPACellSegmentation https github. Note that border cells are only included as ground truth when there is enough information to decide on the label as described in the data tab and the single cell pattern notebook i. For example labels 2 to 5 are all within the nucleus i. com c hpa single cell image classification discussion 215141 Comparative Study on Automated Cell Nuclei Segmentation Methods for Cytology Pleural Effusion Images https www. Training and submission filesLet s start by looking into the training csv. Cell junctions can be observed at contact sites between neighboring cells. These are also the most frequent classes. com c hpa single cell image classification discussion 216984 by dschettler8845 16bit training set https www. Competition Notes notes 5. Datasets Segmentation mask dataset https www. More to come as I start studying the domain. All image samples are represented by four filters stored as individual files the protein of interest green plus three cellular landmarks nucleus blue microtubules red endoplasmic reticulum yellow. The statement below made by Trang Le lnhtrang in our notebook explaining the patterns is correct for how the test set was annotated. com its7171 mmdetection for segmentation training https www. com c hpa single cell image classification discussion 215736 \u6709\u4e9b\u56fe\u50cf\u4e2d \u53ef\u80fd\u6709\u4e9b\u7c7b\u522b\u5728\u7ec6\u80de\u4e2d\u5b58\u5728 \u4f46\u662f\u6ca1\u6709\u6807\u6ce8\u5728\u6574\u4e2a\u56fe\u50cf\u4e2d the images in the hidden test set are 16 bit. If so wouldn t it be equivalent to a category vector consisting only of zeros or False or Null etc. com lnhtrang single cell patterns. be P4gz6DrZOOI by The Human Protein AtlasI am using this EDA notebook to share insights about the Human Protein Atlas Single Cell Classification competition. This is called single cell variability SCV and has been observed across images in HPA and been described in numerous scientific publications. Vesicles and punctate cytosolic patterns \u56ca\u6ce1\u548c\u70b9\u72b6\u7ec6\u80de\u5f62\u6001 \u8fd9\u4e00\u7c7b\u5305\u62ec\u7ec6\u80de\u8d28\u4e2d\u7684\u5c0f\u5706\u5ba4 \u56ca\u6ce1 \u8fc7\u6c27\u4f53 \u8102\u8d28\u4ee3\u8c22 \u5185\u819c\u4f53 \u5206\u62e3\u5ba4 \u6eb6\u9176\u4f53 \u5206\u5b50\u964d\u89e3\u6216\u541e\u566c\u6b7b\u4ea1\u5206\u5b50 \u8102\u6ef4 \u8102\u80aa\u50a8\u5b58 \u80de\u8d28\u4f53 \u80de\u6d46\u4e2d\u7684\u72ec\u7279\u9897\u7c92 \u5b83\u4eec\u662f\u9ad8\u5ea6\u52a8\u6001\u7684 \u5728\u6570\u91cf\u548c\u5927\u5c0f\u4e0a\u968f\u73af\u5883\u548c\u7ec6\u80de\u7ebf\u7d22\u800c\u53d8\u5316 \u5b83\u4eec\u53ef\u4ee5\u662f\u5706\u5f62\u7684 \u4e5f\u53ef\u4ee5\u662f\u66f4\u52a0\u7ec6\u957f\u7684 18. If the model predict a class 0 wrongly for cell 1 in image A this is counted as 1 False Positive for class 0. For example the first image in this section has image level label Nucleoplasm Mitochrondria and all the single cells in this image display both patterns. Also the following comments from the organizers are important some cells can be associated with multiple classes in that case we need to predict separate detections for each class using the same maskBased on an early comment by the host I had initially assumed that confidence is not relevant and can always be set to 1. com c hpa single cell image classification discussion 218309 It appears that 146 of the images contain duplicate classes just one label duplicated in their labels. It might be useful for the final models to get trained on 16bit images as well. Therefore the cell level is Nucleoplasm. com lnhtrang single cell patterns \u5355\u5f20\u8bad\u7ec3\u56fe\u50cf\u4e2d \u53ef\u80fd\u5b58\u5728\u67d0\u79cd\u6807\u6ce8\u7684pattern \u4f46\u662f\u5176\u4e2d\u6240\u6709\u7684\u7ec6\u80de\u4e0d\u4e00\u5b9a\u90fd\u8868\u8fbe\u4e86\u8fd9\u79cdpattern Just like people all cells are different in terms of their morphology shape size and they can also differ in the spatial distribution of their proteins. The results are published and you can read the discussion on the strategies of the winning teams. They can appear similar to microtubules but do not match well with the staining in the red microtubule channel. Cell segmentation task can be considered an auxiliary task depending on your approach to modelling of course on a generalized deep learning model of the cell. com its7171 mmdetection for segmentation inference HPA classifier explainability segmentation by samusram build a classifier on top of image level labels multi label classification then use an explainability technique Guided GRADCAM to extract regions responsible for particular class prediction and then assign the segmented cells to particular classes based on the overlap with Grad CAM outputs. The size and exact shape of the mitotic spindle changes during mitotic progression clearly reflecting the different stages of mitosis. If you think it will be helpful feel free to try it. But since they are morphologically so different as you see in the Single Cell Pattern notebook and so are their functions it is more efficient to develop and analyze a model for each organelle of interest. The bustling activity of the human cell is maintained as proteins perform specific tasks in designated compartments called organelles. \u6bcf\u4e2a\u56fe\u50cf\u6709 4 \u4e2a\u901a\u9053 \u5bf9\u5e944\u5f20png\u56fe\u50cf \u6587\u4ef6\u540d\u4e3a filename _ filter color. http Human Protein Atlas Single Cell Classification EDA \u5355\u7ec6\u80de\u5206\u7c7bGreat thanks to the original kernel https www. Competition Notes Here is a collection of notes from various notebooks and forum posts The same type of data was used in a previous Human Protein Atlas Classification challenge https www. If you compare the image level label with the precise pattern observed in any given cell from this group of images the label will be correct for the vast majority of cells but perhaps not for all of them as in your example 1 and 3 above. We want to study the integrated cell with organelles in relation to it. The class of each cell2. A staining of the nucleoplasm may include the whole nucleus or of the nucleus without the regions known as nucleoli Class 2. Negative \u5176\u4ed6 \u8fd9\u4e00\u7c7b\u5305\u62ec\u9634\u6027\u67d3\u8272\u548c\u975e\u7279\u5f02\u6027\u56fe\u6848 \u8fd9\u610f\u5473\u7740\u7ec6\u80de\u6ca1\u6709\u7eff\u8272\u67d3\u8272 \u9634\u6027 \u6216\u6709\u67d3\u8272\u4f46\u4e0d\u80fd\u4ece\u67d3\u8272\u4e2d\u89e3\u8bfb\u51fa\u56fe\u6848 \u975e\u7279\u5f02\u6027 Contents1. ChannelsLet s again try to understand the image data provided and see if we can visualize it. This means that for example if image A has image level label 0 1 not all single cells inside this image will have a pattern and some cells can have label 18 Negative. title title loc center fontsize 18 plt. The phenomenon of how genetically identical cells can show functional heterogeneity for example in response to drug treatment is poorly understood. com lnhtrang single cell patterns \u6bcf\u4e2a\u7ec6\u80de\u53ef\u80fd\u4e0d\u6b62\u4e00\u4e2apattern \u4f46\u662f18\u662f\u4f8b\u5916 \u56e0\u4e3a18\u8868\u793a\u8bc6\u522b\u5230\u4efb\u4f55pattern the red channel will help you to identify a microtubule pattern label 10 in the green channel and the yellow channel will help you identify an ER pattern label 6 in the green channel. It was clarified in this discussion https www. Ok so we have 19 unique labels from 0 to 18. When a cell is dividing the two centrosomes move to opposite ends of the cell and form the poles of the mitotic spindle. Confidence of the class prediction3. org Project_Discovery _Human_Protein_Atlas via ryches link https www. Endoplasmic reticulum \u5185\u8d28\u7f51 \u5185\u8d28\u7f51 ER \u662f\u901a\u8fc7\u80de\u6d46\u4e2d\u7684\u7f51\u7edc\u72b6\u67d3\u8272\u6765\u8bc6\u522b\u7684 \u901a\u5e38\u9760\u8fd1\u7ec6\u80de\u6838\u7684\u67d3\u8272\u8f83\u5f3a \u9760\u8fd1\u7ec6\u80de\u8fb9\u7f18\u7684\u67d3\u8272\u8f83\u5f31 ER\u53ef\u4ee5\u501f\u52a9\u9ec4\u8272ER\u901a\u9053\u4e2d\u7684\u67d3\u8272\u6765\u8bc6\u522b 7. Nuclear bodies Nuclear bodies are visible as distinct spots in the nucleoplasm. \u5176\u5b9e\u7ed3\u5408\u7c7b\u522b\u540d\u79f0 \u53ef\u4ee5\u6bd4\u8f83\u6e05\u695a\u7684\u77e5\u9053\u5173\u6ce8\u7684\u86cb\u767d\u8d28\u662f\u4ec0\u4e48\u610f\u601d Let s see an example of each channel below. png R\u8868\u793a\u5fae\u7ba1 B\u8868\u793a\u7ec6\u80de\u6838 Y\u8868\u793a\u5185\u8d28\u7f51 G\u8868\u793a\u5173\u6ce8\u7684\u86cb\u767d\u8d28 1. From a research perspective individual organelle segmentation is definitely an interesting task. epdf no_publisher_access 1 r3_referer nature describing results and approaches from the first HPA competition An assumption that the labels were created via online players in an online game https wiki. Plasma membrane \u7ec6\u80de\u8d28\u819c \u8fd9\u4e00\u7c7b\u5305\u62ec\u8d28\u819c\u548c\u7ec6\u80de\u8fde\u63a5 \u4e24\u8005\u90fd\u5728\u7ec6\u80de\u7684\u5916\u7f18 \u6d46\u819c\u6709\u65f6\u5728\u7ec6\u80de\u5468\u56f4\u51fa\u73b0\u6216\u591a\u6216\u5c11\u7684\u660e\u663e\u8fb9\u7f18 \u5076\u5c14\u6709\u7279\u5f81\u6027\u7684\u7a81\u8d77\u6216\u8936\u76b1 \u5728\u4e00\u4e9b\u7ec6\u80de\u7cfb\u4e2d \u67d3\u8272\u53ef\u5728\u6574\u4e2a\u7ec6\u80de\u5185\u5747\u5300\u5206\u5e03 \u5728\u76f8\u90bb\u7ec6\u80de\u4e4b\u95f4\u7684\u63a5\u89e6\u90e8\u4f4d\u53ef\u89c2\u5bdf\u5230\u7ec6\u80de\u8fde\u63a5 14. They vary in shape size and numbers depending on the type of bodies as well as cell type but are usually more rounded compared to nuclear speckles. Protein of interest I still need to understand this better I assume the researchers are interested in certain types of proteins which are not disclosed and these proteins are marked in this channel. Nucleoli \u6838\u4ec1 \u6838\u4ec1\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u6838\u8d28\u4e2d\u7565\u5fae\u62c9\u957f\u7684\u5706\u5f62\u533a\u57df \u901a\u5e38\u5728\u84dd\u8272DAPI\u901a\u9053\u4e2d\u663e\u793a\u51fa\u66f4\u5f31\u7684\u67d3\u8272 \u6838\u4ec1\u7684\u6570\u91cf\u548c\u5927\u5c0f\u56e0\u7ec6\u80de\u7c7b\u578b\u800c\u5f02 3. T label_probs df_probs pd. Cell 1 Green looks to be in the Mitochondria. This means that we will have multiple images from the same cell line. It can appear smooth or granular and the staining is often stronger close to the nucleus. If there is no specific green pattern noisy or no signal it should be labeled as negative. Negative This class include negative stainings and unspecific patterns. com c hpa single cell image classification discussion 216924 In this competition you should submit the whole cell segmentation. In fact this is what happens in the biological image analysis space right now with individual deep learning models for Mitochondria Golgi etc. I ll explore the blending later on for now let s stick with the organizers approach. This means that the cells have no green staining negative or have staining but no pattern can be deciphered from the staining unspecific. Data I will start by exploring the training data including images and the label distribution. The cell nucleus contains all of the cell s genome except for the small amount of mitochondrial DNA. Mitotic spindle \u6709\u4e1d\u5206\u88c2\u7eba\u9524\u4f53 \u6709\u4e1d\u5206\u88c2\u7684\u7eba\u9524\u4f53\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u4e00\u4e2a\u9519\u7efc\u590d\u6742\u7684\u5fae\u7ba1\u7ed3\u6784 \u4ece\u5206\u88c2\u7ec6\u80de \u6709\u4e1d\u5206\u88c2 \u4e24\u7aef\u7684\u6bcf\u4e2a\u4e2d\u5fc3\u4f53\u8f90\u5c04\u51fa\u6765 \u5728\u8fd9\u4e2a\u9636\u6bb5 \u7ec6\u80de\u7684\u67d3\u8272\u8d28\u88ab\u6d53\u7f29 \u901a\u8fc7\u5f3a\u70c8\u7684DAPI\u67d3\u8272\u53ef\u89c1 \u5728\u6709\u4e1d\u5206\u88c2\u8fdb\u5c55\u8fc7\u7a0b\u4e2d \u6709\u4e1d\u5206\u88c2\u7eba\u9524\u4f53\u7684\u5927\u5c0f\u548c\u786e\u5207\u5f62\u72b6\u53d1\u751f\u53d8\u5316 \u6e05\u695a\u5730\u53cd\u6620\u4e86\u6709\u4e1d\u5206\u88c2\u7684\u4e0d\u540c\u9636\u6bb5 12. com c hpa single cell image classification discussion 220748 More negative images can be found in the HPA public image data external data where they are annotated as No Staining. Looking at the notebook shared by the hosts they visualize using 3 channels red yellow blue. These patterns sometimes vary among 17 cell lines in this competition A 431 A549 EFO 21 HAP1 HEK 293 HUVEC TERT2 HaCaT HeLa PC 3 RH 30 RPTEC TERT1 SH SY5Y SK MEL 30 SiHa U 2 OS U 251 MG hTCEpi. Nuclear speckles Nuclear speckles can be seen as irregular and mottled spots inside the nucleoplasm. com c human protein atlas image classification that aimed to classify image level labels paper https www. com c hpa single cell image classification discussion 217395 https github. reset_index drop True for i row in coocc_new. Endoplasmic reticulum The endoplasmic reticulum ER is recognized by a network like staining in the cytosol which is usually stronger close to the nucleus and weaker close to the edges of the cell. Vesicles and punctate cytosolic patterns This class includes small circular compartments in the cytosol Vesicles Peroxisomes lipid metabolism Endosomes sorting compartments Lysosomes degradation of molecules or eating up dead molecules Lipid droplets fat storage Cytoplasmic bodies distinct granules in the cytosol. com its7171 a few tips on map scriptVersionId 53590041 6. For practical scoring reasons on the Kaggle platform we re using the format where Negative has a label of its own 18. Nucleoli Nucleoli can be seen as slightly elongated circular areas in the nucleoplasm which usually display a much weaker staining in the blue DAPI channel. Microtubules Microtubules are seen as thin strands that stretch throughout the whole cell. Actin filaments \u808c\u52a8\u86cb\u767d\u4e1d \u808c\u52a8\u86cb\u767d\u4e1d\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u957f\u800c\u76f4\u7684\u4e1d\u675f \u4e5f\u53ef\u4ee5\u770b\u4f5c\u662f\u8f83\u7ec6\u7684\u4e1d\u7684\u5206\u652f\u7f51\u7edc \u5b83\u4eec\u901a\u5e38\u4f4d\u4e8e\u7ec6\u80de\u8fb9\u7f18\u9644\u8fd1 10. Plasma membrane This class includes plasma membrane and cell junctions. The microtubule cytoskeleton is involved in the transport of material within cells carried out by motor proteins that move on the surface of the microtubule. For example the middle image in this section has image level label ER Golgi but the single cells in this image have either only ER or only Golgi part of image level label. Please upvote if you found this helpful you will make my day Plot the crashes where alcohol was involved Add a legend and informative axis label label_probs counts. understanding which organelle s cell part the protein localizes to in the specific cell. As the training labels are a collective label for all the cells in an image it means that each labeled pattern can be seen in the image but not necessarily that each cell within the image expresses the pattern. All images have 4 channels Red Microtubules Green Protein of interest Blue Nucleus Yellow Endoplasmic reticulum What does Wikipedia https en. com lnhtrang single cell patterns \u4e0a\u6b21\u7684\u6bd4\u8d5b\u662f\u56fe\u50cf\u7ea7\u7684\u5206\u7c7b \u800c\u8fd9\u6b21\u662f\u7ec6\u80de\u7ea7\u7684\u5206\u7c7b \u800c\u4e14\u8fd9\u6b21\u7684\u56fe\u50cf\u4e2d \u6bcf\u5f20\u56fe\u7247\u4e2d\u7ec6\u80de\u7684\u591a\u6837\u6027\u66f4\u5927 \u5c24\u5176\u662f\u5728\u6d4b\u8bd5\u96c6\u4e2d \u6240\u4ee5\u56fe\u50cf\u7ea7\u7684\u5206\u7c7b\u53ef\u80fd\u4f1a\u6709\u8f83\u5927\u7684\u95ee\u9898 Metric learning\u65b9\u6cd5\u53ef\u80fd\u4e0d\u4f1a\u6709\u592a\u597d\u7684\u6548\u679c HPACellSegmentation was used as a basis followed my manual correction of the masks for the ground truth. You can check out this excellent kernel https www. Centrosome This class includes centrosomes and centriolar satellites. Therefore the cell level label is Negative. heatmap norm_cooc cmap Blues linewidth 0. Looking at this data it appears to be a multi label classification challenge. There are more considerations that we took into account when designing this challenge. Puzzle CAM by phalanx weakly supervised semantic segmentation hpasegmentor solution https www. Mitochondria Mitochondria are small rod like units in the cytosol which are often distributed in a thread like pattern along microtubules. Managing such weak labels is part of this challenge and it s impact is something we will analyze at the end of the challenge. 8 title Actual vs expected class coocurrence n plt. com lnhtrang single cell patterns \u5176\u4ed6 \u8fd9\u4e2a\u7c7b\u522b\u53ef\u80fd\u5728\u522b\u7684\u56fe\u50cf\u4e2d\u4e5f\u5b58\u5728 \u6bd4\u65b9\u8bf4\u4e00\u4e2a\u56fe\u50cf\u6807\u6ce8\u662f0\u548c1 \u90a3\u67d0\u4e2a\u7ec6\u80de\u53ef\u80fd\u662f \u5176\u4ed6 The labels are the organelles structures in which the proteins are located. com dschettler8845 hpa cellwise classification inference 6. A cell can have multiple labels but will never have Negative AND some other label. com c hpa single cell image classification discussion 217158 The lower the confidence threshold the higher the mAP we will get. astype float coocc_new coocc_new. Pretrained segmentation models Cellpose https www. Centrosome \u4e2d\u5fc3\u4f53 \u8fd9\u4e00\u7c7b\u5305\u62ec\u4e2d\u5fc3\u4f53\u548c\u4e2d\u5fc3\u7c92\u536b\u661f \u5b83\u4eec\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u5fae\u7ba1\u8d77\u6e90\u5904\u9760\u8fd1\u7ec6\u80de\u6838\u7684\u4e00\u5c0f\u5757\u533a\u57df \u5177\u6709\u6216\u591a\u6216\u5c11\u7684\u660e\u663e\u67d3\u8272 \u5f53\u7ec6\u80de\u5206\u88c2\u65f6 \u4e24\u4e2a\u4e2d\u5fc3\u4f53\u79fb\u52a8\u5230\u7ec6\u80de\u7684\u4e24\u7aef \u5f62\u6210\u6709\u4e1d\u5206\u88c2\u4e3b\u8f74\u7684\u4e24\u6781 13. com its7171 map understanding with code and its tips to understand how the competition metric works and how the confidence score is relevant. Plasma membrane sometimes appears as a more or less distinct edge around the cell occasionally with characteristic protrusions or ruffles. What do the combinations of these classes look like We can see from the coocurrence plot that the classes 0 nucleoplasm and 16 cytosol tend to cooccur most frequently with other classes and especially with each other. small sample class is equaly important as bit class. If there are 4 cells and 3 have green staining and the image level labels are Mitochondria and Nucleoplasm. Golgi apparatus \u9ad8\u5c14\u57fa\u4f53 \u9ad8\u5c14\u57fa\u4f53\u662f\u4e00\u4e2a\u76f8\u5f53\u5927\u7684\u7ec6\u80de\u5668 \u4f4d\u4e8e\u7ec6\u80de\u6838\u65c1\u8fb9 \u9760\u8fd1\u4e2d\u5fc3\u4f53 \u7ea2\u901a\u9053\u4e2d\u7684\u5fae\u7ba1\u5c31\u6765\u6e90\u4e8e\u6b64 \u9ad8\u5c14\u57fa\u4f53\u7684\u5916\u89c2\u5448\u6298\u53e0\u5e26\u72b6 \u4f46\u5176\u5f62\u72b6\u548c\u5927\u5c0f\u53ef\u56e0\u7ec6\u80de\u7c7b\u578b\u548c\u7ec6\u80de\u7684\u5404\u79cd\u8fc7\u7a0b\u800c\u53d8\u5316 8. Cytosol The cytosol extends from the plasma membrane to the nuclear membrane. com c hpa single cell image classification discussion 214616 \u6d4b\u8bd5\u96c6\u7684ground truth\u6765\u81ea\u4e8eHPACellSegmentation\u6a21\u578b\u7684\u5206\u5272 \u7136\u540e\u4eba\u5de5\u505a\u4e86\u4fee\u6b63 \u6bcf\u4e2a\u7ec6\u80de\u7684\u7c7b\u522b\u7531\u4eba\u5de5\u6807\u6ce8 We cannot tell you exactly what the proteins of interest are now. In one of our previous papers https www. com lnhtrang single cell patterns \u672c\u6b21\u6570\u636e\u6d89\u53ca\u4ee5\u4e0a17\u4e2a\u7ec6\u80de\u7cfb Single or muliple patterns can be seen together in a cell. The metrics works like this For each image all predicted masks are matched with ground truth masks. For other images especially in the test set each cell will have only a part of the image level label or completely new label 18 Negative. com lnhtrang single cell patterns \u5982\u679c\u56fe\u50cf\u8fb9\u7f18\u7684\u7ec6\u80de\u88ab\u906e\u6321\u8d85\u8fc7\u4e00\u534a \u5c31\u4e0d\u9884\u6d4b For some images all cells will inherit the labels from image level labels. Each file represents a different filter on the subcellular protein patterns represented by the sample. It does not mean that we have the same cells between images as different cells will be sampled for experiments. It has a folded ribbon like appearance but the shape and size can vary between cell types and in response to cellular various processes. com c hpa single cell image classification discussion 215736 R\u901a\u9053\u53ef\u4ee5\u4e8e\u8bc6\u522b\u5fae\u7ba1 Y\u53ef\u4ee5\u7528\u4e8e\u8bc6\u522bER \u7ed3\u5408RGB\u53ef\u4ee5\u83b7\u5f97\u5173\u4e8e\u6574\u4e2a\u7ec6\u80de\u7684\u5168\u5c40\u4fe1\u606f All images have all the four channels and signals from the markers blue yellow red are present in all cells in the image independent of the green channel that you are classifying in order to help you identify where the cells are as well as where certain structures and regions within the cells are. org wiki Cytoskeleton tell us these channels represent Microtubules are polymers of tubulin that form part of the cytoskeleton and provide structure and shape to eukaryotic cells. At this stage the chromatin of the cell is condensed as visible by intense DAPI staining. For each image we are being asked to segment each single cell contained in the image identify the class of that cell and submit a string containing 1. Mitochondria \u7ebf\u7c92\u4f53 \u7ebf\u7c92\u4f53\u662f\u7ec6\u80de\u8d28\u4e2d\u7684\u5c0f\u68d2\u72b6\u5355\u4f4d \u5e38\u6cbf\u5fae\u7ba1\u5448\u7ebf\u72b6\u5206\u5e03 15. Visualize single classesIn the following section I d like to visualize an image for each class only images representing single class. Labels distributionLet s first check how many unique labels we have in the dataset. Nucleoplasm The nucleus is found in the center of cell and can be identified with the help of the signal in the blue nucleus channel. Golgi apparatus The Golgi apparatus is a rather large organelle that is located next to the nucleus close to the centrosome from which the microtubules in the red channel originate. Segmentation mask for each cell encoded in a fancy schemeThe fact that our training data is image level classes and our task is to predict cell masks and their corresponding classes explains why the organizers call it a weakly supervised multi label classification problem. We want to study this observed variation to better understand the functional heterogeneity of cells. com c hpa single cell image classification discussion 215773 by its7171 Cell crop tile datasets https www. 3 cbar_kws shrink. com c hpa single cell image classification discussion 215428 \u6d4b\u8bd5\u96c6\u7684\u56fe\u50cf\u662f16\u4f4d\u7684 \u800c\u8bad\u7ec3\u96c6\u662f8\u4f4d\u7684 Every cell in an image will have one or multiple labels. The second example from the top and the cells of weaker intensity in the top image are text book examples of this. when the majority of the cell area is represented in the image. com philculliton hpa 2020 16bit training set the original train set is 8bit while test set is 16bit. They are usually located close to the edges of the cells. In some cell lines the staining can be uniform across the entire cell. If that is the case predict separate detections for each class using the same mask. com c hpa single cell image classification discussion 215981 \u7ec6\u80de\u7cfb\u662f\u6307\u4e00\u4e2a\u57f9\u80b2\u7684\u7ec6\u80de\u79cd\u7fa4 \u4e4b\u524d\u7684\u5b9e\u9a8c\u8bc1\u660e\u5728\u8bad\u7ec3\u96c6\u5305\u542b\u591a\u4e2a\u7ec6\u80de\u7cfb\u53ef\u4ee5\u63d0\u5347\u6548\u679c \u6216\u8bb8\u5728\u8bad\u7ec3\u672c\u95ee\u9898\u4e2d\u4e5f\u6709\u4e00\u5b9a\u7684\u5e2e\u52a9 In total there are 19 classes 0 18 that will be scored. The nucleus maintains the integrity of genes and controls the activities of the cell by regulating gene expression. Hence the accuracy of these labels is much better and will be correct for each cell in every image. Aggresome An aggresome can be seen as a dense cytoplasmic inclusion which is usually found close to the nucleus in a region where the microtubule network is disrupted. What if we visualize the red green and blue channels instead Ok these look similar. For a demonstration how to create the prediction string encoding see my baseline kernel https www. Microtubules can grow as long as 50 micrometres and are highly dynamic. The nucleus is therefore the control center of the cell. Combining ChannelsThese are 4 channels how do we display them in a single image According to a comment from competition host we could blend them https www. com thedrcat hpa baseline cell segmentation. The format should be filename _ filter color. They can be seen as a more or less distinct staining of a small area at the origin of the microtubules close to the nucleus. As for if characteristics of the cell line would improve the classification accuracy that is certainly an interesting theory. Then mAP is calculated. com juglab EmbedSeg via tanlikesmath Hosts notebook https www. com c hpa single cell image classification data \u6240\u8c13\u5f31\u76d1\u7763\u5b66\u4e60 \u5355\u5f20\u8bad\u7ec3\u56fe\u50cf\u4e2d \u53ef\u80fd\u5b58\u5728\u67d0\u79cd\u6807\u6ce8\u7684pattern \u4f46\u662f\u5176\u4e2d\u6240\u6709\u7684\u7ec6\u80de\u4e0d\u4e00\u5b9a\u90fd\u8868\u8fbe\u4e86\u8fd9\u79cdpattern \u800c\u63a8\u7406\u65f6 \u6211\u4eec\u8981\u9884\u6d4b\u51fa\u6bcf\u4e2a\u7ec6\u80de\u7684pattern Note that a mask MAY have more than one class. Cell 3 Green looks to be in the Nucleoplasm and Mitochondria. expand_dims label_probs axis 0 lprobs label_probs. com c hpa single cell image classification discussion 215736 byr\u901a\u9053\u5728\u6240\u6709\u7ec6\u80de\u4e2d\u90fd\u5b58\u5728 \u4e14\u72ec\u7acb\u4e8e\u7eff\u8272\u901a\u9053 there may be images where a single cell have a label that was neglected at the image level for example a weak cytosolic pattern. com OFRIN PuzzleCAM mmdetection for segmentation by its7171 convert masks to bboxes and train an object detection model https www. com c hpa single cell image classification data \u56fe\u50cf\u7531\u6fc0\u5149\u626b\u63cf\u5171\u805a\u7126\u663e\u5fae\u955c\u751f\u6210 proteins of interest \u7528\u4e8e\u9884\u6d4b\u7c7b\u522b \u800c\u5176\u4ed6\u4e09\u4e2a\u901a\u9053\u7528\u4e8e\u63cf\u8ff0\u7ec6\u80de The labels you will get for training are image level labels while the task is to predict cell level labels. This can in turn help you to segment the cells and to classify each cell to one or more label s according to the signal in the green channel. It is almost always possible to detect the center from which they all originate the centrosome. Both are at the outer edge of the cell. Eukaryotes usually have a single nucleus but a few cell types such as mammalian red blood cells have no nuclei and a few others including osteoclasts have many. com articles s41592 019 0658 6. This duplication only happens with the 9 13 17 labels Actin Filaments Plasma Membrane Vesicles In this competition we merged some spatially similar and functionally related patterns into the same class. This means that the labels present in the majority of the images will be annotated. Negative \u5176\u4ed6 \u8fd9\u4e00\u7c7b\u5305\u62ec\u9634\u6027\u67d3\u8272\u548c\u975e\u7279\u5f02\u6027\u56fe\u6848 \u8fd9\u610f\u5473\u7740\u7ec6\u80de\u6ca1\u6709\u7eff\u8272\u67d3\u8272 \u9634\u6027 \u6216\u6709\u67d3\u8272\u4f46\u4e0d\u80fd\u4ece\u67d3\u8272\u4e2d\u89e3\u8bfb\u51fa\u56fe\u6848 \u975e\u7279\u5f02\u6027 Ok so the class 18 which we found with very few examples is actually the everything else category this can influence our labeling strategy. Nucleoli fibrillar center \u6838\u4ec1\u7ea4\u7ef4\u4e2d\u5fc3 \u6838\u4ec1\u7ea4\u7ef4\u4e2d\u5fc3\u53ef\u6839\u636e\u7ec6\u80de\u7c7b\u578b\u7684\u4e0d\u540c \u5728\u6838\u4ec1\u4e2d\u51fa\u73b0\u70b9\u72b6\u7c07\u6216\u5355\u4e2a\u8f83\u5927\u7684\u6591\u70b9 4. Nucleus is a membrane bound organelle found in eukaryotic cells. com dschettler8845 hpa cellwise classification training https www. The ER can be identified with the help of the staining in the yellow ER channel. Solution Approaches solutions 6. During annotation the image level labels are set per sample i. Nuclear membrane \u6838\u819c \u6838\u819c\u8868\u73b0\u4e3a\u56f4\u7ed5\u7740\u7ec6\u80de\u6838\u7684\u4e00\u4e2a\u8584\u5706 \u5b83\u5e76\u4e0d\u662f\u5b8c\u5168\u5149\u6ed1\u7684 \u6709\u65f6\u5728\u6838\u5185\u4e5f\u53ef\u4ee5\u770b\u5230\u819c\u7684\u8936\u76b1\u4e3a\u5c0f\u5706\u5708\u6216\u5c0f\u70b9 2. comment by dschettler8845 https www. iterrows for j in range len row row j len df_train norm_cooc coocc_new df_probs fig ax plt. The green filter should hence be used to predict the label and the other filters are used as references. In the hidden test set of this challenge we purposely chose images with high single cell variation SCV. Or is there some subtle distinction I don t see Yes you are correct it is a none of the above label and can be treated as such. com c hpa single cell image classification discussion 214616 proteins of interest \u5177\u4f53\u662f\u5565 \u76ee\u524d\u8fd8\u4e0d\u80fd\u900f\u9732 The dataset is acquired in a highly standardized way using one imaging modality confocal microscopy. org learn dictionary cell A few tips on mAP by tito https www. com thedrcat hpa single cell classification eda\u672c\u6587\u5728\u5176\u57fa\u7840\u4e0a\u589e\u6dfb\u4e86\u90e8\u5206\u4e2d\u6587\u7ffb\u8bd1 Cells are the basic structural units of all living organisms. com c hpa single cell image classification discussion 214603. The endoplasmic reticulum is found in most eukaryotic cells and forms an interconnected network of flattened membrane enclosed sacs known as cisternae in the RER and tubular structures in the SER. com c hpa single cell image classification discussion 216132 Organelles by HPA https www. These proteins are involved in a variety of biological processes. \u6807\u7b7e \u82f1\u6587\u540d\u79f0 \u4e2d\u6587\u540d\u79f0 \u63cf\u8ff0 0. Nuclear membrane The nuclear membrane appears as a thin circle around the nucleus. Cell 2 Green looks to be in the Nucleoplasm. We get image id and label column which contains the classes corresponding to each image. That is to say each training image contains a number of cells that have collectively been labeled as described above and the prediction task is to look at images of the same type and predict the labels of each individual cell within those images. A good rule of thumb that our annotators used in generating ground truth is if more than half of the cell is not present don t predict it link https www. Intermediate filaments may extend through the whole cytosol or be concentrated in an area close to the nucleus. Microtubules \u5fae\u7ba1 \u5fae\u7ba1\u88ab\u770b\u4f5c\u662f\u5ef6\u4f38\u5230\u6574\u4e2a\u7ec6\u80de\u4e2d\u7684\u7ec6\u7ebf \u51e0\u4e4e\u603b\u662f\u53ef\u4ee5\u68c0\u6d4b\u5230\u5b83\u4eec\u5168\u90e8\u8d77\u6e90\u7684\u4e2d\u5fc3 \u4e2d\u5fc3\u4f53 \u4e0e\u7ea2\u8272\u901a\u9053\u4e2d\u7684\u67d3\u8272\u91cd\u53e0 11. And the first image in this section has image level label Nucleoplasm Cytokinetic bridge and Mitotic spindle. \u5c0f\u6837\u672c\u7684\u7c7b\u522b\u548c\u5927\u6837\u672c\u7684\u7c7b\u522b \u540c\u6837\u91cd\u8981 4. For example if an image has image level label as Vesicles and Peroxisomes then the code results in 17 17. Nucleoplasm \u7ec6\u80de\u6838 \u6838\u8d28 \u7ec6\u80de\u6838\u5728\u7ec6\u80de\u7684\u4e2d\u5fc3 \u5e76\u4e14\u53ef\u4ee5\u501f\u52a9\u4e8e\u84dd\u8272\u901a\u9053\u4e2d\u7684\u4fe1\u53f7\u6765\u8bc6\u522b \u6838\u8d28\u7684\u67d3\u8272\u53ef\u4ee5\u5305\u62ec\u6574\u4e2a\u6838\u6216\u4e0d\u542b\u6838\u4ec1 Class 2 \u7684\u533a\u57df. epdf no_publisher_access 1 r3_referer nature. com c hpa single cell image classification discussion 214659 \u611f\u89c9\u662f\u901a\u8fc7IOU\u5224\u65ad\u662f\u5426\u547d\u4e2d \u7136\u540e\u5224\u65ad\u6bcf\u4e2a\u7ec6\u80de\u7684\u7c7b\u522bHere s a link to some tips on mAP from its7171 https www. Label Name Description 0. And yes as you might have guessed this overlaps the staining in the red channel. com samusram hpa classifier explainability segmentation Classification of segmented and cropped cells by dschettler8845 https www. Therefore the cell level label is Nucleoplasm and MitochondriaCell 4 No green or green is not present in any organelle. We grow cells in our lab and take some of them for each imaging experiment. Note that each of the image level labels can be present in all or in just a fraction of the individual cells in the image and that some individual cells may also have additional labels that are not mentioned among the image level labels. The duplicates simply results from conversion code. For example if there is overlap between the red channel Microtubules and the green protein we can understand that the protein localizes to the microtubules. com c hpa single cell image classification discussion 219885 that this is not the case. com c hpa single cell image classification discussion 217806 \u6709\u4e9b\u56fe\u50cf\u6709\u91cd\u590d\u7684label \u8fd9\u662f\u56e0\u4e3a\u8f6c\u6362\u65f6\u51fa\u4e86\u95ee\u9898 \u5ffd\u7565\u5c31\u597d Image level label uncertainty The image level labels are what we refer to as weak or noisy. com c hpa single cell image classification discussion 215122. This was mentioned on the Single Cell Pattern notebook. I have also prepared a separate baseline submission notebook available here https www. Let s see how it looks. DataFrame lprobs columns labels coocc_new coocc. They can be round or more elongated. com c hpa single cell image classification discussion 220748 How to recognize unspecific patterns Unspecific patterns arise from the use of antibody reagents that do not function well and do not bind to their intended target protein but rather to all cellular structures sometimes excluding the nucleolus. subplots figsize 16 13 sns. \u7f6e\u4fe1\u5ea6\u9608\u503c\u8d8a\u4f4e mAP\u8d8a\u9ad8 Class dependence is linear. Therefore a single cell classifier is more helpful than a whole image classifier as developed in the previous challenge. Therefore the cell level is Mitochondria. Nucleoli fibrillar center Nucleoli fibrillary center can appear as a spotty cluster or as a single bigger spot in the nucleolus depending on the cell type. \u7ec6\u80de\u662f\u6240\u6709\u751f\u7269\u4f53\u7684\u57fa\u672c\u7ed3\u6784\u5355\u4f4d \u4eba\u4f53\u7ec6\u80de\u7684\u6d3b\u52a8\u6e90\u4e8e\u86cb\u767d\u8d28\u5728\u7279\u5b9a\u7684\u7ec6\u80de\u5668\u4e2d\u6267\u884c\u7279\u5b9a\u4efb\u52a1 The Human Cell https youtu. com journals jhe 2018 9240389 via weka511 link https www. Nuclear bodies \u6838\u4f53 \u6838\u4f53\u662f\u6838\u8d28\u4e2d\u53ef\u89c1\u7684\u660e\u663e\u6591\u70b9 \u5b83\u4eec\u7684\u5f62\u72b6 \u5927\u5c0f\u548c\u6570\u91cf\u56e0\u4f53\u578b\u4ee5\u53ca\u7ec6\u80de\u7c7b\u578b\u800c\u5f02 \u4f46\u4e0e\u6838\u6563\u6591\u76f8\u6bd4 \u901a\u5e38\u6bd4\u8f83\u5706\u6da6 6. Intermediate filaments \u4e2d\u95f4\u4e1d \u4e2d\u95f4\u4e1d\u7ecf\u5e38\u8868\u73b0\u51fa\u4e00\u79cd\u7565\u5fae\u7ea0\u7f20\u7684\u7ed3\u6784 \u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u5c31\u4f1a\u6709\u80a1\u4ea4\u53c9 \u5b83\u4eec\u53ef\u80fd\u4e0e\u5fae\u7ba1\u76f8\u4f3c \u4f46\u4e0e\u7ea2\u8272\u5fae\u7ba1\u901a\u9053\u4e2d\u7684\u67d3\u8272\u4e0d\u76f8\u543b\u5408 \u4e2d\u95f4\u4e1d\u53ef\u4ee5\u5ef6\u4f38\u5230\u6574\u4e2a\u80de\u6d46\u4e2d \u6216\u96c6\u4e2d\u5728\u9760\u8fd1\u7ec6\u80de\u6838\u7684\u533a\u57df 9. com CellProfiling HPA Cell Segmentation EmbedSeg Embedding based Instance Segmentation http github. Actin filaments Actin filaments can be seen as long and rather straight bundles of filaments or as branched networks of thinner filaments. com c hpa single cell image classification discussion 216924 I agree the Negative label is a bit unclear and I too hope for answers of the above. com lnhtrang hpa public data download and hpacellseg demonstrating how you can make use of public HPA data and HPACellSegmentation model Hosts guide explaining the patterns and cells in the microscope images https www. The challenge lies in understanding which patterns can be seen in each cell i. Images images Channels \u56fe\u50cf\u901a\u9053 Combining Channels \u901a\u9053\u7ec4\u5408 Visualize Single Classes \u53ef\u89c6\u53163. 4225 we did show that including different cell lines in our training data helped accuracy across the board Figure 5C of that paper. Solution Approaches Here is a collection of links to various solution approaches shared in competition notebooks and discussions. The endoplasmic reticulum ER is in essence the transportation system of the eukaryotic cell and has many other important functions such as protein folding. Metric Placeholder given the info on metric change. Metric metric \u8bc4\u4ef7\u6807\u51c64. Mitotic spindle The mitotic spindle can be seen as an intricate structure of microtubules radiating from each of the centrosomes at opposite ends of a dividing cell mitosis. So you are correct in assuming that the labels only apply to the cells where green is present as the green is the protein. This may be valid for train set competition hosts explained that the test set was labelled by experts at HAP link https www. This could mean cell line information may be helpful for a neural network but we have not tested much less proved that theory. The number and size of nucleoli varies between cell types. e per a group of up to 6 images from the same sample. Classes per single cell were subsequently assigned by annotators. This class Negative includes negative stainings and unspecific patterns. com c hpa single cell image classification discussion 220748 5. Nuclear speckles \u6838\u6563\u6591 \u6838\u6563\u6591\u662f\u4e9a\u6838\u7ed3\u6784 \u5728\u8367\u5149\u663e\u5fae\u955c\u6c34\u5e73 \u4ed6\u4eec\u51fa\u73b0\u4e0d\u89c4\u5219\u7684\u70b9\u72b6\u7ed3\u6784 5. Therefore I believe you won t gain significant advantages with a metric learning approach like the winning solution last challenge. Nice people that enjoy this notebook also press the upvote button \u5404\u7c7b\u522b\u540d\u79f0\u4e0e\u63cf\u8ff0 \u6807\u7b7e \u82f1\u6587\u540d\u79f0 \u4e2d\u6587\u540d\u79f0 \u63cf\u8ff0 0. However the dataset comprises 17 different cell types of highly different morphology which affect the protein patterns of the different organelles. This imprecise labeling is what we refer to as weak. Intermediate filaments Intermediate filaments often exhibit a slightly tangled structure with strands crossing every so often. Here s the official description Each sample consists of four files. Combinations of classesWe already have a feeling for the volume of images with a single class. During the challenge you will both need to segment the cells in the images and predict the labels of those segmented cells. com c hpa single cell image classification discussion 215736 \u7c7b\u522b\u662f\u7eff\u8272\u901a\u9053\u6240\u5728\u7684\u4f4d\u7f6e \u5982\u679c\u7eff\u8272\u5728\u7ebf\u7c92\u4f53 \u90a3\u5c31\u662f\u7ebf\u7c92\u4f53 Please also note that border cells where most of the cells are out of the field of view and to cells that have been damaged or suffer from staining artifacts. the region of each cell with a signal in the blue channel. Cytosol \u7ec6\u80de\u8d28\u57fa\u8d28 \u80de\u6d46 \u80de\u6d46\u4ece\u6d46\u819c\u5ef6\u4f38\u81f3\u6838\u819c \u5b83\u53ef\u4ee5\u662f\u5149\u6ed1\u7684\u6216\u9897\u7c92\u72b6\u7684 \u9760\u8fd1\u6838\u7684\u5730\u65b9\u67d3\u8272\u901a\u5e38\u8f83\u5f3a 17. It is a type of organelle made up of two subunits rough endoplasmic reticulum RER and smooth endoplasmic reticulum SER. They are highly dynamic varying in numbers and size in response to environmental and cellular cues. Resources resources Datasets \u6570\u636e\u96c6 1. It is not perfectly smooth and sometimes it is also possible to see the folds of the membrane as small circles or dots inside the nucleus. \u6240\u8c13\u5f31\u76d1\u7763\u5b66\u4e60 \u662f\u6307\u8bad\u7ec3\u6570\u636e\u4e2d \u53ea\u63d0\u4f9b\u4e86\u56fe\u50cf\u7ea7\u522b\u7684\u6807\u6ce8 \u6bcf\u4e00\u4e2a\u56fe\u50cf\u53ef\u80fd\u5bf9\u5e94\u591a\u4e2a\u7c7b\u522b \u5176\u4e2d\u5305\u62ec\u591a\u4e2a\u7ec6\u80de \u6bcf\u4e2a\u7ec6\u80de\u4e5f\u53ef\u80fd\u5bf9\u5e94\u591a\u4e2a\u7c7b\u522b \u800c\u63a8\u7406\u65f6 \u9700\u8981\u5b9e\u73b0\u8bed\u4e49\u5206\u5272\u7684\u529f\u80fd \u5206\u5272\u53ef\u4ee5\u901a\u8fc7HPACellSegmentor\u8fd9\u4e2a\u5305\u6765\u5b9e\u73b0 \u6240\u4ee5\u6211\u4eec\u81f3\u5c11\u9700\u8981\u5b9e\u73b0\u56fe\u50cf\u4e2d \u6bcf\u4e2a\u7ec6\u80de\u7684\u5206\u7c7b \u6240\u8c13 Single Cell Classification We can also see there are 4 images in the train folder for each image ID corresponding to red blue green and yellow channels. sum label_probs np. com c hpa single cell image classification overview evaluation \u6bcf\u4e2a\u7ec6\u80de\u53ef\u80fd\u6709\u4e0d\u6b62\u4e00\u4e2a\u7c7b\u522b we get the absolute X and Y coordinates for the proteins from the green channel but that information is useless without the context provided by the other channels. ", "id": "wptouxx/hpa-single-cell-classification-eda", "size": "37774", "language": "python", "html_url": "https://www.kaggle.com/code/wptouxx/hpa-single-cell-classification-eda", "git_url": "https://www.kaggle.com/code/wptouxx/hpa-single-cell-classification-eda", "script": "fastai.vision.all seaborn numpy matplotlib.pyplot pandas ", "entities": "(('labels', 'game https online wiki'), 'nature') (('we', 'https www'), 'be') (('Cell', '3 Nucleoplasm'), 'look') (('Colors', 'interest'), 'be') (('image level labels', 'sample i.'), 'set') (('classes 0 nucleoplasm', 'especially other'), 'look') (('Cell junctions', 'neighboring cells'), 'observe') (('descriptions', 'organizers https www'), 'represent') (('When cell', 'mitotic spindle'), 'move') (('which', 'microtubules'), 'be') (('image level label Nucleoplasm Cytokinetic bridge', 'spindle'), 'have') (('Data I', 'images'), 'start') (('cells', '18 Negative'), 'mean') (('it', 'it'), 'feel') (('Negative class', 'negative stainings'), 'include') (('you', 'winning solution'), 'believe') (('Negative \u5176\u4ed6 \u8fd9\u4e00\u7c7b\u5305\u62ec\u9634\u6027\u67d3\u8272\u548c\u975e\u7279\u5f02\u6027\u56fe\u6848 \u8fd9\u610f\u5473\u7740\u7ec6\u80de\u6ca1\u6709\u7eff\u8272\u67d3\u8272', '\u975e\u7279\u5f02\u6027'), '\u9634\u6027') (('second example', 'text book this'), 'be') (('microtubules', 'red channel'), 'apparatus') (('proteins', 'designated compartments'), 'maintain') (('instead these', 'red green channels'), 'what') (('\u901a\u8fc7\u7eff\u8272\u901a\u9053\u53bb\u5224\u65ad\u7ec6\u80de\u7684\u7c7b\u522b \u5982\u679c\u7eff\u8272\u548c\u7ea2\u8272\u91cd\u53e0 \u90a3\u5c31\u662f\u5fae\u7ba1 215981 Negative cells', 'other classes'), 'note') (('so we', '18'), 'have') (('i', 'coocc_new'), 'drop') (('Puzzle CAM', 'segmentation hpasegmentor solution https weakly semantic www'), 'supervise') (('cell protein', 'specific cell'), 'understanding') (('ER', 'ER yellow channel'), 'identify') (('proteins', 'organelles which'), '\u8fd9\u4e2a\u7c7b\u522b\u53ef\u80fd\u5728\u522b\u7684\u56fe\u50cf\u4e2d\u4e5f\u5b58\u5728') (('when majority', 'image'), 'represent') (('we', 'dataset'), 'check') (('so wouldn it', 'only zeros'), 'be') (('mitotic spindle', 'cell dividing mitosis'), 'spindle') (('It', 'discussion https www'), 'clarify') (('certain patterns', 'these'), 'help') (('Intermediate filaments', 'close nucleus'), 'extend') (('19 that', 'com c cell image classification \u4e4b\u524d\u7684\u5b9e\u9a8c\u8bc1\u660e\u5728\u8bad\u7ec3\u96c6\u5305\u542b\u591a\u4e2a\u7ec6\u80de\u7cfb\u53ef\u4ee5\u63d0\u5347\u6548\u679c hpa single discussion 215981 \u7ec6\u80de\u7cfb\u662f\u6307\u4e00\u4e2a\u57f9\u80b2\u7684\u7ec6\u80de\u79cd\u7fa4 total'), '\u6216\u8bb8\u5728\u8bad\u7ec3\u672c\u95ee\u9898\u4e2d\u4e5f\u6709\u4e00\u5b9a\u7684\u5e2e\u52a9') (('4225 we', 'paper'), 'show') (('as well where certain structures', 'cells'), 'c') (('test how set', 'patterns'), 'be') (('don many green hence they', 'label'), 'have') (('Actin Actin filaments', 'thinner filaments'), 'filament') (('case', 'same mask'), 'predict') (('you', 'segmented cells'), 'need') (('we', 'what'), 'c') (('muliple patterns', 'together cell'), 'com') (('nucleus', 'nucleus blue channel'), 'Nucleoplasm') (('com', 'dschettler8845 https www'), 'samusram') (('image samples', 'interest'), 'represent') (('same cells', 'experiments'), 'mean') (('single cell', '1'), 'ask') (('nucleus', 'control therefore cell'), 'be') (('bodies Nuclear Nuclear bodies', 'nucleoplasm'), 'be') (('Nucleus', 'membrane bound eukaryotic cells'), 'be') (('we', 'what'), 'be') (('com OFRIN', 'detection model https object www'), 'PuzzleCAM') (('that', 'whole cell'), 'see') (('They', 'environmental cues'), 'be') (('Nucleoli fibrillar center \u6838\u4ec1\u7ea4\u7ef4\u4e2d\u5fc3 \u6838\u4ec1\u7ea4\u7ef4\u4e2d\u5fc3\u53ef\u6839\u636e\u7ec6\u80de\u7c7b\u578b\u7684\u4e0d\u540c', '4'), '\u5728\u6838\u4ec1\u4e2d\u51fa\u73b0\u70b9\u72b6\u7c07\u6216\u5355\u4e2a\u8f83\u5927\u7684\u6591\u70b9') (('duplicates', 'conversion simply code'), 'result') (('proteins', 'channel'), 'protein') (('mask MAY', 'more than one class'), 'Note') (('endoplasmic reticulum', 'tubular SER'), 'find') (('HUVEC RPTEC TERT1 SY5Y SiHa OS A 431 A549 EFO 21 HAP1 HEK 293 HeLa PC 3 30 SK MEL 30 U 2 U', 'competition'), 'vary') (('you', '6 green channel'), 'com') (('we', 'it'), 'try') (('They', 'cell as well usually more nuclear speckles'), 'vary') (('that', 'long time'), 'com') (('corresponding why organizers', 'it'), 'encode') (('it', 'above label'), 'be') (('exactly proteins', 'interest'), 'c') (('file', 'sample'), 'represent') (('we', 'when challenge'), 'be') (('necessarily cell', 'pattern'), 'mean') (('Training', 'training csv'), 'start') (('Centrosome \u4e2d\u5fc3\u4f53', '\u5b83\u4eec\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u5fae\u7ba1\u8d77\u6e90\u5904\u9760\u8fd1\u7ec6\u80de\u6838\u7684\u4e00\u5c0f\u5757\u533a\u57df \u5177\u6709\u6216\u591a\u6216\u5c11\u7684\u660e\u663e\u67d3\u8272 \u5f53\u7ec6\u80de\u5206\u88c2\u65f6 \u4e24\u4e2a\u4e2d\u5fc3\u4f53\u79fb\u52a8\u5230\u7ec6\u80de\u7684\u4e24\u7aef \u5f62\u6210\u6709\u4e1d\u5206\u88c2\u4e3b\u8f74\u7684\u4e24\u6781'), '\u8fd9\u4e00\u7c7b\u5305\u62ec\u4e2d\u5fc3\u4f53\u548c\u4e2d\u5fc3\u7c92\u536b\u661f') (('how genetically identical cells', 'drug treatment'), 'understand') (('This', 'Single Cell Pattern notebook'), 'mention') (('label multi classification', 'Grad CAM outputs'), 'build') (('com cell image classification \u6d4b\u8bd5\u96c6\u7684\u56fe\u50cf\u662f16\u4f4d\u7684 hpa single 215428 cell', 'one labels'), 'c') (('that', 'staining artifacts'), '\u7c7b\u522b\u662f\u7eff\u8272\u901a\u9053\u6240\u5728\u7684\u4f4d\u7f6e') (('they', 'yellow 3 channels red blue'), 'look') (('patterns', 'cell i.'), 'lie') (('Nuclear speckles', 'nucleoplasm'), 'see') (('where they', 'Staining'), 'find') (('prediction collectively above task', 'images'), 'be') (('1 Cell Green', 'Mitochondria'), 'look') (('that', 'weak cytosolic pattern'), 'discussion') (('they', 'centrosome'), 'be') (('4 images', 'staining'), 'be') (('com c cell image classification hpa single 214659 \u611f\u89c9\u662f\u901a\u8fc7IOU\u5224\u65ad\u662f\u5426\u547d\u4e2d \u7136\u540e\u5224\u65ad\u6bcf\u4e2a\u7ec6\u80de\u7684\u7c7b\u522bHere', 'https its7171 www'), 'discussion') (('4 green', 'organelle'), 'be') (('Plasma class', 'plasma membrane'), 'membrane') (('this', 'class'), 'count') (('Add', 'label label_probs legend axis counts'), 'upvote') (('chromatin', 'DAPI visible intense staining'), 'condense') (('bit I', 'above'), 'discussion') (('They', 'cells'), 'locate') (('it', 'https www'), 'be') (('number', 'cell types'), 'varie') (('We', 'it'), 'want') (('it', 'data'), 'appear') (('Wikipedia', 'Blue Nucleus Yellow Endoplasmic What'), 'have') (('Intermediate filaments', 'strands crossing'), 'exhibit') (('we', 'above'), 'consider') (('this', 'sample Now submission'), 'realize') (('where Negative', 'own 18'), 're') (('we', 'cell same line'), 'mean') (('image level task', 'cell level labels'), 'protein') (('DataFrame lprobs columns', 'coocc_new coocc'), 'label') (('this', 'class'), 'predict') (('Nuclear \u6838\u4f53', '\u5b83\u4eec\u7684\u5f62\u72b6 \u5927\u5c0f\u548c\u6570\u91cf\u56e0\u4f53\u578b\u4ee5\u53ca\u7ec6\u80de\u7c7b\u578b\u800c\u5f02 \u4f46\u4e0e\u6838\u6563\u6591\u76f8\u6bd4 \u901a\u5e38\u6bd4\u8f83\u5706\u6da6'), 'body') (('Combinations', 'single class'), 'have') (('Negative', '18'), 'be') (('what', 'Mitochondria Golgi etc'), 'be') (('com c cell image classification hpa single discussion', 'https www'), 'dataset') (('labels', 'images'), 'mean') (('that', 'image level labels'), 'note') (('cell', 'Negative'), 'have') (('where single cell', 'images'), 'accuracy') (('microtubule where network', 'region'), 'see') (('More I', 'domain'), 'come') (('information', 'other channels'), '\u6bcf\u4e2a\u7ec6\u80de\u53ef\u80fd\u6709\u4e0d\u6b62\u4e00\u4e2a\u7c7b\u522b') (('negative pattern', 'staining unspecific'), 'mean') (('This', 'numerous scientific publications'), 'call') (('Hence accuracy', 'image'), 'be') (('staining', 'entire cell'), 'be') (('images', 'test hidden set'), 'be') (('shape', 'cellular various processes'), 'have') (('Visualize single following I', 'single class'), 'classesin') (('we', 'cell variation high single SCV'), 'choose') (('\u6240\u8c13\u5f31\u76d1\u7763\u5b66\u4e60 \u662f\u6307\u8bad\u7ec3\u6570\u636e\u4e2d \u53ea\u63d0\u4f9b\u4e86\u56fe\u50cf\u7ea7\u522b\u7684\u6807\u6ce8 \u6bcf\u4e00\u4e2a\u56fe\u50cf\u53ef\u80fd\u5bf9\u5e94\u591a\u4e2a\u7c7b\u522b \u5176\u4e2d\u5305\u62ec\u591a\u4e2a\u7ec6\u80de \u6bcf\u4e2a\u7ec6\u80de\u4e5f\u53ef\u80fd\u5bf9\u5e94\u591a\u4e2a\u7c7b\u522b \u6bcf\u4e2a\u7ec6\u80de\u7684\u5206\u7c7b \u6240\u8c13 Single Cell \u9700\u8981\u5b9e\u73b0\u8bed\u4e49\u5206\u5272\u7684\u529f\u80fd \u5206\u5272\u53ef\u4ee5\u901a\u8fc7HPACellSegmentor\u8fd9\u4e2a\u5305\u6765\u5b9e\u73b0 We', 'ID red blue green channels'), '\u800c\u63a8\u7406\u65f6') (('reticulum endoplasmic ER', 'protein such folding'), 'be') (('intermediate they', 'cytoskeleton'), 'involve') (('Plasma membrane', 'occasionally characteristic protrusions'), 'appear') (('that', 'sometimes nucleolus'), 'discussion') (('cytosol', 'nuclear membrane'), 'Cytosol') (('Cell 2 Green', 'Nucleoplasm'), 'look') (('cells', 'image level labels'), 'com') (('sample small class', 'bit equaly class'), 'be') (('other filters', 'references'), 'use') (('Microtubules', 'as long as 50 micrometres'), 'grow') (('final models', '16bit images'), 'be') (('proteins', 'biological processes'), 'involve') (('This', 'green channel'), 'help') (('border cells', 'data tab'), 'note') (('which', 'cell'), 'reticulum') (('Actin', '\u808c\u52a8\u86cb\u767d\u4e1d \u808c\u52a8\u86cb\u767d\u4e1d\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u957f\u800c\u76f4\u7684\u4e1d\u675f \u4e5f\u53ef\u4ee5\u770b\u4f5c\u662f\u8f83\u7ec6\u7684\u4e1d\u7684\u5206\u652f\u7f51\u7edc \u5b83\u4eec\u901a\u5e38\u4f4d\u4e8e\u7ec6\u80de\u8fb9\u7f18\u9644\u8fd1'), 'filament') (('perfectly sometimes it', 'nucleus'), 'be') (('Nucleoli fibrillar center Nucleoli fibrillary center', 'cell type'), 'appear') (('which', 'image'), 'get') (('we', 'same class'), 'happen') (('image level labels', 'green staining'), 'be') (('image level label Nucleoplasm Mitochrondria', 'patterns'), 'display') (('They', 'microtubule red channel'), 'appear') (('Solution Approaches', 'competition notebooks'), 'be') (('same type', 'Human Protein Atlas Classification challenge https previous www'), 'be') (('protein', 'microtubules'), 'understand') (('nucleus', 'gene expression'), 'maintain') (('label', 'example'), 'be') (('it', 'interest'), 'but') (('you', 'red channel'), 'yes') (('s', 'channel'), 'let') (('dataset', 'one imaging modality'), '\u76ee\u524d\u8fd8\u4e0d\u80fd\u900f\u9732') (('Images', 'Channels \u56fe\u50cf\u901a\u9053'), 'image') (('you', 'cell whole segmentation'), 'discussion') (('They', 'close nucleus'), 'see') (('org', 'tito https A few tips www'), 'learn') (('Metric Placeholder', 'metric change'), 'give') (('We', 'imaging experiment'), 'grow') (('large part', 'train'), 'be') (('which', 'DAPI blue channel'), 'see') (('146', 'labels'), 'discussion') (('test set', 'HAP link https www'), 'be') (('labels', 'nucleus 2 to 5 i.'), 'be') (('competition metric confidence how how score', 'code'), 'map') (('later on s', 'organizers approach'), 'explore') (('we', 'challenge'), 'be') (('green', 'only cells'), 'be') (('staining', 'nucleoli Class'), 'include') (('We', 'cells'), 'want') (('Negative', 'negative stainings'), 'include') (('you', 'winning teams'), 'publish') (('Vesicles', '\u56ca\u6ce1 \u8fc7\u6c27\u4f53 \u8102\u8d28\u4ee3\u8c22 \u5185\u819c\u4f53 \u5206\u62e3\u5ba4 \u8102\u80aa\u50a8\u5b58 \u5b83\u4eec\u662f\u9ad8\u5ea6\u52a8\u6001\u7684 \u5728\u6570\u91cf\u548c\u5927\u5c0f\u4e0a\u968f\u73af\u5883\u548c\u7ec6\u80de\u7ebf\u7d22\u800c\u53d8\u5316 \u5b83\u4eec\u53ef\u4ee5\u662f\u5706\u5f62\u7684 \u8102\u6ef4 \u80de\u8d28\u4f53 \u4e5f\u53ef\u4ee5\u662f\u66f4\u52a0\u7ec6\u957f\u7684'), '\u8fd9\u4e00\u7c7b\u5305\u62ec\u7ec6\u80de\u8d28\u4e2d\u7684\u5c0f\u5706\u5ba4') (('Data data Training files', 'classes'), '\u8bad\u7ec3\u4e0e\u63d0\u4ea4') (('a few others', 'many'), 'have') (('actually else this', 'labeling strategy'), '\u9634\u6027') (('Nuclear nuclear membrane', 'nucleus'), 'membrane') (('how you', 'microscope images https www'), 'com') (('learning\u65b9\u6cd5\u53ef\u80fd\u4e0d\u4f1a\u6709\u592a\u597d\u7684\u6548\u679c \u6240\u4ee5\u56fe\u50cf\u7ea7\u7684\u5206\u7c7b\u53ef\u80fd\u4f1a\u6709\u8f83\u5927\u7684\u95ee\u9898 Metric HPACellSegmentation', 'ground truth'), 'com') (('cell nucleus', 'mitochondrial DNA'), 'contain') (('which', 'different organelles'), 'comprise') (('predicted masks', 'ground truth masks'), 'work') (('com thedrcat cell eda\u672c\u6587\u5728\u5176\u57fa\u7840\u4e0a\u589e\u6dfb\u4e86\u90e8\u5206\u4e2d\u6587\u7ffb\u8bd1 hpa single Cells', 'basic structural living organisms'), 'classification') (('image', 'code then 17 17'), 'result') (('cell Therefore single classifier', 'previous challenge'), 'be') (('Centrosome class', 'centrosomes'), 'include') (('I', 'baseline submission also separate notebook'), 'prepare') (('storage fat Cytoplasmic', 'cytosol'), 'include') (('Resources resources', 'challenge'), 'be') (('image level label ER Golgi', 'Golgi image level only label'), 'have') (('Cell segmentation task', 'cell'), 'consider') (('that', 'eukaryotic cells'), 'tell') (('they', 'proteins'), '\u5355\u5f20\u8bad\u7ec3\u56fe\u50cf\u4e2d') (('com c human protein atlas image that', 'image level labels paper https www'), 'classification') (('we', 'neural network'), 'mean') (('that', 'upvote button \u5404\u7c7b\u522b\u540d\u79f0\u4e0e\u63cf\u8ff0 \u6807\u7b7e \u82f1\u6587\u540d\u79f0 \u4e2d\u6587\u540d\u79f0 also \u63cf\u8ff0'), 'press') (('staining', 'often close nucleus'), 'appear') (('You', 'kernel https excellent www'), 'check') (('test set', 'train original set'), 'be') (('sample', 'four files'), 's') (('initially confidence', 'always 1'), 'be') (('that', 'microtubule'), 'involve') (('18', 'imbalanced 11'), 'be') (('It', 'two subunits'), 'be') (('Classes', 'subsequently annotators'), 'assign') (('that', 'classification accuracy'), 'as') (('Mitotic', '\u7ec6\u80de\u7684\u67d3\u8272\u8d28\u88ab\u6d53\u7f29 \u901a\u8fc7\u5f3a\u70c8\u7684DAPI\u67d3\u8272\u53ef\u89c1 \u5728\u6709\u4e1d\u5206\u88c2\u8fdb\u5c55\u8fc7\u7a0b\u4e2d \u6709\u4e1d\u5206\u88c2\u7eba\u9524\u4f53\u7684\u5927\u5c0f\u548c\u786e\u5207\u5f62\u72b6\u53d1\u751f\u53d8\u5316 \u4e24\u7aef\u7684\u6bcf\u4e2a\u4e2d\u5fc3\u4f53\u8f90\u5c04\u51fa\u6765 \u6e05\u695a\u5730\u53cd\u6620\u4e86\u6709\u4e1d\u5206\u88c2\u7684\u4e0d\u540c\u9636\u6bb5'), 'spindle') ", "extra": "['annotation', 'biopsy of the greater curvature', 'test', 'bag', 'pleura']", "label": "Perfect_files", "potential_description_queries": ["absolute", "account", "accuracy", "analyze", "annotation", "appear", "appearance", "apply", "approach", "area", "assign", "associated", "baseline", "basic", "bit", "blend", "blood", "board", "book", "border", "build", "button", "call", "case", "category", "cell", "center", "centrosome", "challenge", "channel", "chart", "check", "circle", "circular", "classification", "classifier", "classify", "close", "cluster", "code", "collection", "column", "comment", "compare", "competition", "confidence", "consider", "contact", "contain", "context", "control", "conversion", "convert", "correct", "correction", "correlation", "could", "course", "create", "crop", "cytoskeleton", "cytosol", "data", "dataset", "day", "demonstration", "description", "detect", "detection", "develop", "dictionary", "display", "distributed", "distribution", "domain", "download", "drop", "duplicate", "edge", "encoding", "end", "essence", "evaluation", "every", "everything", "expected", "explained", "explore", "extend", "external", "extract", "fact", "field", "fig", "file", "filename", "filter", "final", "float", "folder", "following", "form", "format", "found", "frequent", "function", "functional", "game", "genome", "green", "ground", "group", "grow", "half", "heatmap", "help", "high", "hope", "hpacellseg", "http", "human", "id", "image", "improve", "include", "including", "individual", "inference", "influence", "info", "initially", "instance", "intensity", "interest", "kernel", "lab", "label", "labeled", "labeling", "labelled", "learn", "learning", "len", "let", "level", "line", "link", "look", "looking", "lower", "majority", "manual", "map", "mask", "match", "mean", "metric", "microscope", "middle", "might", "model", "modelling", "morphology", "most", "move", "multiple", "my", "nature", "need", "negative", "network", "neural", "new", "next", "no", "none", "not", "notebook", "nuclei", "nucleoplasm", "number", "object", "official", "order", "out", "outer", "overall", "overlap", "overview", "part", "pattern", "people", "per", "perform", "phenomenon", "plot", "png", "population", "predict", "prediction", "present", "protein", "provide", "public", "range", "re", "read", "reference", "region", "relation", "research", "response", "right", "row", "sample", "scientific", "score", "scoring", "second", "section", "segment", "segmentation", "separate", "set", "shape", "signal", "similar", "single", "size", "smooth", "solution", "something", "space", "spatial", "stage", "staining", "start", "storage", "string", "structure", "submission", "sum", "supervised", "surface", "system", "target", "task", "technique", "term", "test", "text", "think", "those", "threshold", "through", "thumb", "tile", "title", "total", "train", "training", "treatment", "try", "turn", "type", "understanding", "uniform", "unique", "up", "valid", "variability", "variation", "vector", "view", "visualize", "volume", "while"], "potential_description_queries_len": 277, "potential_script_queries": ["fastai", "numpy", "seaborn", "vision"], "potential_script_queries_len": 4, "potential_entities_queries": ["button", "center", "classification", "confidence", "following", "high", "image", "level", "metric", "object", "scientific", "separate", "solution", "variation"], "potential_entities_queries_len": 14, "potential_extra_queries": ["biopsy", "pleura"], "potential_extra_queries_len": 2, "all_components_potential_queries_len": 283}