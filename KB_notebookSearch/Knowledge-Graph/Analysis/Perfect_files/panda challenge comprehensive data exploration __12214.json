{"name": "panda challenge comprehensive data exploration ", "full_name": " h1 Prostate cANcer graDe Assessment PANDA Challenge h1 Contents h1 Understanding Data Files h1 Load Required Packages h1 Load all the Data Files h4 Let s look at the Columns of each dataframes h1 Check for Missing Data h1 Exploratory Data Analysis h3 BokehJS h4 Let s Do a lite Analysis on the Gleason Score h4 Let s now do a collective exploration on the distribution of ISUP Grade and Gleason Score Values h4 Discussion h4 Now let us look at how the Gleason Score is distributed bas on the two data sources h4 Now that we have done a some good amount of exploration on the data files let s look ta the Image Files h1 Images of Microscopy Scans of Prostate Biopsy Samples h3 Using OpenSlide to load the data h4 Let s try to read a single patch By giving the name of the file h2 Visualise the Label Masks h4 Visualizing masks using matplotlib h2 Overlaying Masks on the Slides h1 Analysis on the Image Characterstics h2 Let s see the Characterstics on a Single image slide h2 Let s load all Characterstics for all the images h3 Let s create a Scatter Plot for Height and Width h3 More analysis on the distribution of the Height and Width h3 Width vs Data Provider h3 Height vs Data Provider h3 Width vs ISUP Grade h3 Height vs ISUP Grade h3 Width vs Gleason Score h3 Height vs Gleason Score h3 Height and Width Distribution Side by Side h3 Let s Visualise the Levels h1 Conclusion h1 References ", "stargazers_count": 0, "forks_count": 0, "description": "train_label_masks Segmentation masks showing which parts of the image led to the ISUP grade. csv A valid submission file. They used different scanners with slightly different maximum microscope resolutions and worked with different pathologists for labeling their images. Both the Karolinska Institute and Radboud University Medical Center contributed data. These markings are not part of the tissue but were made by the pathologists who originally checked this case. Note In the example below you can also observe a few pen markings on the slide Dark green patches. org api python Let s try to read a single patch By giving the name of the fileWe can also create a small function that will give us the meta data about the slides Running the cell below loads seven example biopsies using OpenSlide. csv files have only 3 rows samples. An alternate cancer severity rating system with more levels than the ISUP scale. These masks are provided to assist with the development of strategies for selecting the most useful subsamples of the images. se en meb are the two data providers as well as the organisers of the competition. The cardnality of both the intersections is equal with the data dimmensions. In 2012 the International Society of Urologic Pathologists ISUP http isupweb. csv image_id ID code for the image. Analysis on the Image Characterstics Let s see the Characterstics on a Single image slide In the output we can see the metadata like the File id Dimensions Microns per pixel etc. This system is based primarily on the nucleoli assessment of the tumors as follows 1 Grade 1 Inconspicuous nucleoli at 400 magnification and basophilic Grade 2 Clearly visible nucleoli at 400 magnification and eosinophilic Grade 3 Clearly visible nucleoli at 100 magnification Grade 4 Extreme pleomorphism or rhabdoid and or sarcomatoid morphologyLet s do a little analysis on the ISUP grade The above graph illustrates that majority of data samples in training set have ISUP grade values 0 or 1 total 50 and the rest of the data samples have associated ISUP grades from 2 to 5 with all ranging in the 11 12 each. For Radboud next in terms of frequency most frequent are samples with Gleason score 4 3 3 3 3 4 4 4 4 5. com rohitsingh9990 panda eda better visualization simple baseline Render and show the vbar plot Create alpha mask Mapping 0 background 1 stroma 2 benign epithelium 3 Gleason 3 4 Gleason 4 5 Gleason 5 Mapping 0 background 1 benign 2 cancer. Most of the 0 1 ISUP Grade samples are originated from Karolinska. For example using matplotlib and a custom color map we can quickly visualize the different cancer regions Overlaying Masks on the SlidesAs the masks have the same dimension as the slides we can overlay the masks on the tissue to directly see which areas are cancerous. These pen markings are available on some slides in the training set. Intermediate levels can be created by downsampling a higher resolution level. The severity of the cancer on a 0 5 scale. Some things you can notice The image dimensions are quite large typically between 5. The goal is to predict isup_grade for each image in test set. com gpreda panda challenge starting eda PANDA EDA Better Visualization Simple Baseline http www. Note that slightly different procedures were in place for the images used in the test set than the training set. Visualise the Label Masks p7 8. Overlaying Masks on the Slides p8 9. Understanding Data Files p1 2. Let s check now the train data in train_images and train_label masks folders. Visualise the Label Masks Visualizing masks using matplotlib Given that the masks are just integer matrices you can also use other packages to display the masks. For details on how the gleason and ISUP systems compare see the Additional Resources tab. This rotation has no clinical value and is only dependent on how the biopsy was collected in the lab. All exams with ISUP grade 5 have Gleason score 4 5 majority 5 4 or 5 5. The mask values depend on the data provider Radboud Prostate glands are individually labelled. Exploratory Data Analysis p5 6. To do this we load both the mask and the biopsy and merge them using PIL. Let s see how ISUP grade is distributed with respect of Data provider. I hope you find this notebook useful and your UPVOTES would be very much appreciated. jpg With more than 1 million new diagnoses reported every year prostate cancer PCa is the second most common cancer among males worldwide that results in more than 350 000 deaths annually. Screen 20Shot 202020 04 08 20at 202. Not all training images have label masks and there may be false positives or false negatives in the label masks for a variety of reasons. Analysis on the Imgae Characterstics p9 10. These tissue samples are examined by a pathologist and scored according to the Gleason grading system. Before we dive deep into the data let us know a little more about the competition. We saw how we can do a simple exploratory data analysis that gives us great insights If you liked the Kernal then don t forget to hit the Upvote Also Suggestion are always Welcomed Post your Doubts and Suggestions on the Comment Section. All exams with ISUP grade 1 have Gleason score 3 3. The grading process consists of finding and classifying cancer tissue into so called Gleason patterns 3 4 or 5 based on the architectural growth patterns of the tumor Fig. Check for Missing Values p4 5. That means there is No Missing Data All images indexed in train data has corresponding tiff images and tiff label masks. to generate great visualisations but let s also give BokehJS a try Install BokehJS with Pip if you don t have it Let s start with checking the distribution of data_provider isup_grade and gleason_score in the training data train_df. References PANDA Challenge Starting EDA http www. png attachment Screen 20Shot 202020 04 08 20at 202. jpg attachment what is a PSA test_745x510_njaecd. We can use Matplotlib Seaborn Plotly etc. The benefit of OpenSlide is that we can load arbitrary regions of the slide without loading the whole image in memory. Now we will compare the intersections of sets of resulted lists. csv and sample_submission. For this we will remove the suffix and extension from label masks and will remove the extension from image list. Biopsies can be in different rotations. Valid values are 0 background non tissue or unknown 1 stroma connective tissue non epithelium tissue 2 healthy benign epithelium 3 cancerous epithelium Gleason 3 4 cancerous epithelium Gleason 4 5 cancerous epithelium Gleason 5 Karolinska Regions are labelled. The full versions will be available to your submitted notebooks. Each slide has 3 levels you can load corresponding to a downsampling of 1 4 and 16. 000 pixels in both x and y. This overlay can help you identifying the different growth patterns. You can read more about the OpenSlide python bindings in the documentation https openslide. This can also be illustrated using a heat map Looks really awesome Now let us look at how the Gleason Score is distributed bas on the two data sources We can observe that all of the 0 0 Gleason score data samples are from Karolinska while from Radboud we have most of negative data. Check for Missing DataLet s check for the missing values in the data. Discussion All exams with ISUP grade 0 have Gleason score 0 0 or negative. Exploratory Data Analysis BokehJSBokehJS is the in browser client side runtime library that users of Bokeh ultimately interact with. Loading Required Packages p2 3. This is a notebooks only competition the downloadable test. All exams with ISUP grade 2 have Gleason score 3 4. gleason_score Train only. Each is a large multi level tiff file. The column gleason_score is only present in train data that is not present either in test with image_id data_provider or in sample submission image_id isup_grade csv. After the biopsy is assigned a Gleason score it is converted into an ISUP grade on a 1 5 scale. The key to decreasing mortality is developing more precise diagnostics. All exams with ISUP grade 3 have Gleason score 4 3. isup_grade Train only. It helps me keep Motivated Prostate cANcer graDe Assessment PANDA Challenge Prostate cancer diagnosis using the Gleason grading system what is a PSA test_745x510_njaecd. For Karolinska next in terms of frequency are samples with Gleason score 3 3 3 4 4 4. org isup proposed a novel validated grading system for clear cell renal cell carcinoma ccRCC and papillary renal cell carcinoma pRCC that has been implemented by the World Health Organization WHO. csv have been truncated. Hi Kagglers We are here again with another amazing competition In this notebook let us try and explore the data given for Prostate cANcer graDe Assessment PANDA Challenge. train test _images The images. We are gonna see the count of the data providers Radboud University Medical Center http www. All exams with ISUP grade 4 have Gleason score 4 4 majority 3 5 or 5 3. This library is written primarily in TypeScript and is one of the unique things about the Bokeh plotting system. Using OpenSlide to load the dataIn the following sections we will load data from the slides with OpenSlide. Want to interactively view a slide We have added an interactive viewer to this notebook in the last section. Diagnosis of PCa is based on the grading of prostate tissue biopsies. nl en research and Karolinska Institute http ki. Some of the training set images have stray pen marks on them but the test set slides are free of pen marks. Let s now do a collective exploration on the distribution of ISUP Grade and Gleason Score Values. Let s Do a lite Analysis on the Gleason_ScoreThe above plot clearly illustrates that the data is imbalanced with respect of Gleason Score values distribution. Let s load all Characterstics for all the images Warning While you run the below code Don t think your kernel isn t responding This takes a little time We have succesfully added the width height spacing and level_count Let s create a Scatter Plot for Height and Width More analysis on the distribution of the Height and WidthLet s create a function that can create visuals by taking the features as input Width vs Data Provider Height vs Data Provider Width vs ISUP Grade Height vs ISUP Grade Width vs Gleason Score Height vs Gleason Score Height and Width Distribution Side by Side Let s Visualise the Levels ConclusionThat s it We reached the end of our exercise. Most of the 2 5 ISUP Grade samples are originated from Radboud. data_provider The name of the institution that provided the data. Images of Microscopy Scans of Prostate Biopsy Samples p6 7. Load Required Packages Load all the Data Files Let s look at the Columns of each dataframesTest and Sample Submission. There are noticable color differences between the biopsies this is very common within pathology and is caused by different laboratory procedures. Valid values are 1 background non tissue or unknown 2 benign tissue stroma and epithelium combined 3 cancerous tissue stroma and epithelium combined sample_submission. You can expect roughly 1 000 images in the hidden test set. Now that we have done a some good amount of exploration on the data files let s look ta the Image Files Images of Microscopy Scans of Prostate Biopsy SamplesWe will write a function that will take each image name and then combine it with the image path and displays the images. References p11 Understanding Data FilesLet s look at the data files given and understand what data they have and what they represent. Conclusion p10 11. The dimensions of each level differ based on the dimensions of the original image. ", "id": "risabbiswas19/panda-challenge-comprehensive-data-exploration", "size": "12214", "language": "python", "html_url": "https://www.kaggle.com/code/risabbiswas19/panda-challenge-comprehensive-data-exploration", "git_url": "https://www.kaggle.com/code/risabbiswas19/panda-challenge-comprehensive-data-exploration", "script": "overlay_mask_on_slide tqdm_notebook Spectral8 show_masks bokeh.palettes figure matplotlib.patches show seaborn numpy output_notebook ColumnDataSource show_images matplotlib.pyplot plot_distribution_grouped pandas print_slide_details tqdm bokeh.plotting Rectangle ", "entities": "(('This', 'only downloadable test'), 'be') (('Most', 'Karolinska'), 'originate') (('users', 'Bokeh'), 'be') (('this', 'laboratory different procedures'), 'be') (('5 Gleason', '4 5 majority'), 'score') (('you', 'growth different patterns'), 'help') (('3 Gleason', '4 3'), 'score') (('goal', 'test set'), 'be') (('We', 'exercise'), 'let') (('Discussion', 'ISUP grade'), 'exam') (('all', '11 12'), 'base') (('slightly different procedures', 'training set'), 'note') (('nl research', 'Karolinska ki'), 'http') (('we', 'negative data'), 'illustrate') (('Better Visualization Simple Baseline', 'www'), 'challenge') (('us', 'competition'), 'let') (('We', 'last section'), 'want') (('Diagnosis', 'tissue prostate biopsies'), 'base') (('don then t', 'Comment always Welcomed Section'), 'forget') (('that', 'data'), 'data_provider') (('that', 'images'), 'do') (('Now we', 'resulted lists'), 'compare') (('Most', 'Radboud'), 'originate') (('we', 'OpenSlide'), 'use') (('Gleason', '3'), 'be') (('image dimensions', 'quite typically 5'), 'be') (('that', 'OpenSlide'), 'let') (('that', 'sample submission'), 'be') (('what', 'Gleason grading system'), 'help') (('us', 'Prostate cANcer graDe Assessment PANDA Challenge'), 'hi') (('count', 'Radboud University Medical www'), 'go') (('rohitsingh9990 panda com eda', 'baseline better simple Render'), 'visualization') (('it', '1 5 scale'), 'assign') (('Intermediate levels', 'resolution higher level'), 'create') (('only how biopsy', 'lab'), 'have') (('we', 'image list'), 'remove') (('2 Gleason', '3 4'), 'score') (('tissue samples', 'Gleason grading system'), 'examine') (('You', 'test hidden set'), 'expect') (('integer just you', 'masks'), 'visualise') (('cardnality', 'data dimmensions'), 'be') (('cell carcinoma papillary renal that', 'World Health Organization'), 'propose') (('test set slides', 'pen marks'), 'have') (('Radboud University Medical Karolinska Institute Center', 'data'), 'contribute') (('directly areas', 'tissue'), 'visualize') (('They', 'images'), 'use') (('pen markings', 'training set'), 'be') (('s', 'train_images'), 'let') (('who', 'originally case'), 'be') (('grading process', 'tumor Fig'), 'consist') (('we', 'memory'), 'be') (('key', 'more precise diagnostics'), 'develop') (('s', 'dataframesTest'), 'Load') (('they', 'what'), 'p11') (('s', 'training data'), 'generate') (('ISUP', 'Urologic Pathologists'), 'http') (('ISUP how grade', 'Data provider'), 'let') (('we', 'PIL'), 'load') (('You', 'documentation https'), 'read') (('clearly data', 'Gleason Score values distribution'), 'let') (('Segmentation parts', 'ISUP grade'), 'train_label_masks') (('we', 'etc'), 'let') (('4 Gleason', '4 4 majority'), 'score') (('full versions', 'submitted notebooks'), 'be') (('3 Karolinska 2 healthy benign epithelium 3 cancerous epithelium 4 cancerous 4 5 cancerous Gleason 5 Regions', 'stroma 0 background non unknown 1 connective non epithelium tissue'), 'be') (('Missing images', 'tiff corresponding images'), 'mean') (('you', '1 4'), 'have') (('dimensions', 'original image'), 'differ') (('training images', 'reasons'), 'have') (('how gleason', 'Additional Resources tab'), 'see') (('1 Gleason', '3 3'), 'score') (('We', 'Plotly etc'), 'use') (('worldwide that', '350 more than 000 deaths'), 'jpg') (('masks', 'images'), 'provide') (('Bokeh', 'system'), 'write') (('s', 'ISUP Grade'), 'let') ", "extra": "['biopsy', 'biopsy of the greater curvature', 'organization', 'test', 'diagnosis', 'procedure']"}