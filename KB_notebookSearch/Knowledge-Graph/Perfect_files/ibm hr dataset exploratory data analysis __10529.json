{"name": "ibm hr dataset exploratory data analysis ", "full_name": " h1 IBM HR Dataset Exploratory Data Analysis h2 Part 1 Cleaning the Data h2 Part 2 Who leaves TechCo h2 Part 3 Gender Equality at TechCo h2 Part 4 Predicting attrition at TechCo h2 Initial Brainstorm h2 Part 1 Cleaning the Data h3 Holy Moly Lots of duplicates in here h2 YAY ITS PRETTY MUCH ALL CLEAN h2 Finding correlations h2 Interesting h2 Part 2 Who leaves TechCo h2 Part 3 Gender Equality at TechCo h1 MODELS h2 Part 4 Predicting attrition at TechCo h1 THANK YOU VERY MUCH h3 Retrospective ", "stargazers_count": 0, "forks_count": 0, "description": "MODELS Part 4 Predicting attrition at TechCo alt text https static01. But after the 10 year mark there s an attrition of lower paid employees raising the average through the age brackets. There s a cluster of values to the right which tells me that there are more values that are similiar to each other than dissimilar which I already knew. I appreciate the time you took to read this. I feel sorry for the 60 year olds putting in the hard yards. com 2Fstatic 2Fimg 2Fabout 01. By eyeballing this plot I can see the employees who work over time leave at a higher rate than those who do not. gif Part 1 Cleaning the Data Part 2 Who leaves TechCo Part 3 Gender Equality at TechCo Part 4 Predicting attrition at TechCo Initial Brainstorm Might have some interesting clusters Correlation plot would be nice Can we train a model to predict attrition Can get some feature importances. In terms of attrition it appears age is the most important feature followed by whether you travel then what department you re in. Lets extract some feature importances then see where a PCA leads us. Takeaways Perhaps unsurprisingly TotalWorkingYears is highly correlated to Job Level i. It s likely gender was assigned randomly over the whole dataset. Given this is already rather long I m only going to focus on age the time spent at TechCo and whether you worked overtime or not. Interesting Most of the values appear to be weakly correlated with each other. A t test confirms that this is the case. This dataset isn t as dirty as I would like to show off some of my cleaning skills but alas that ll have to wait for another day. the longer you work the higher job level you achieve HourlyRate DailyRate and MonthlyRate are completely uncorrelated with each other which makes no sense. com thumbr 0x0 9 e a72e8a67a8f50c338ab166942d1eac b_1_q_0_p_0. This PCA doesn t tell me much other than there s no clear clustering for attirition along the two directions of most variation. But since I was unsure I did a Chi Squared Test of Independence to see whether this is true. 6 Some matplotlib options General pandas options Show the entire column Seaborn options Load the data in Lets see what it looks like Check for missings Check for duplicates Strip whitespaces Check for conflicting types Hate to throw away data but it s only 353 values out of over 23 thousand Get rid of all the duplicates Lets see what it looks like now Half the rows in JobSatisfaction seem to be strings. The feature importances look pretty good on the surface. But there s lots of insights here to be had. Perhaps there s a gender imbalance in attrition too It s rather odd that the proportion of attrition rates is almost exactly the same for men and women. the older you are the more educated and successful you are Work life Balance correlates to pretty much none of the numeric values Number of companies you ve worked at is weakly correlated with the time you ve spent at the company might indicate you re likely the leave If your performance rating is high you ll get a bigger raise Now lets look at some numbers Some nice summary statistics to be had here Mean age of TechCo employees is 37 Most people get a promotion in 2 5 years Average time employed at TechCo is 7 years No one has a performance rating under 3 Lots of training times at TechCo seems like most people get training 2 3 times a yearSo everyone is performing well getting training and is staying at their jobs for quite a while. Does martial status have an effect Married people might have a more stable personal life which leads to better performance in their jobs. What about across departments Same thing Freaky if it was real. Let s do a rough check on the age distributions to be sure. org images 6 6a Bender_duplicates. It appears that while there are less females in the workplace they earn more than the males but leave at the same rates. For this analysis I m going to assume it s for a fictional company called TechCo Which of course is the name of some real companies but it s too late to turn back now. Finding correlationsBefore I move any further I d like to check over the data broadly to see if anything in the data catches my eye. Married people have clear advantage over single people but it might be correlated simply to age. png q 0 b 1 p 0 a 1 Yay That was too easy. Turns out with a p value of 4. Let s see if women travel more Same again. Let s look at the distributionThe most common monthly wage comes in the 2 3K mark. Given there are a fair few features in the data why don t I do a PCA to find if constructing some new variables in my dataset can explain some variation in the dataset well. Age is correlated JobLevel and Education i. Lets split up the entire dataset based on age brackets. Looks like most people leave TechCo in their early 30 s. Ha There s no real difference in the distribution of age over these categories. Over 20 of all employees who left did so in their first year. What role does gender and age play in this workplace How much does income matter Are more educated people more likely to leave Which Education Field is more likely to leave Does the source of the employee matter Which website produces the best employees Is JobLevel equivalent to performance Can we create a feature to measure this Is there a difference in gender People who live more than 25 minutes away from work tend to be less happy than those who don t. RetrospectiveWith more time Try creating graphs in Bokeh or Plotly Use R instead D Conduct statistical tests to see if these distributions are significantly different from each other Radar plots would be nice Linear Regression using categories REQUIRES PYTHON 3. 8 of the variation in my dataset and PC2 describes 6. How important can these features be if they re making a model that s predicting nothing More proof to the axiom that all models are bad but only some are useful. Perhaps only the best and brightest get the privledge to continue on after 10 years. Lets see whether this is the case. Given this assoication and that of age perhaps over worked employees are more likely to be under 30 It turns out TechCo doesn t discriminate on who works overtime. com pavansubhasht ibm hr analytics attrition datasetThis is the first of a set of these I will be working on to show off some of the analytic skills I ve gained over the past 12 months. Given PC1 describes only 13. jpg the man Not really going to do much here. It appears to be distributed equally throughout all ages. 05 I can confidently say over time is related to attrition. R is a lot better for modelling with such a signifcant class imbalance. Now let s look at the hard hitting question Part 3 Gender Equality at TechCoClearly there s a gender imbalance 58 Male 42 Female at TechCo. Plotting a correlation heatmap which is a measure of the strength of a relationship between two variables can tell me quite a lot about the data in a short amount of time. We can see that wage seems to increase linearly as you move through the age brackets. Who does leave then Part 2 Who leaves TechCo There are lots of ways to approach this I could spend a long time digging into this thoroughly looking at the impact of travel the department you re in gender income work life balance. We can see that there s plenty of employees at TechCo earning over 10K a month regardless of how long they ve been at the company. However my model doesn t look like it s performing any better than random chance given the mean accuracy is 84 and 83. 2 I can say it s going to be tough for any ML algorithm to create any decent predictions. There are noticeably more males in this wage bracket than females. T Test What about all the single ladies Age by Gender and Martial Status Trying to get a binned distribution in of Age by MonthlyIncome in Seaborn Fixed X axis labels currently looking awful Trying to get a binned distribution in of Age by MonthlyIncome in Seaborn Fixed X axis labels currently looking awful Large class imbalance Encode the categorical variables so that scikit learn can read them Build a forest to predict attrition and compute the feature importances Lets plot this Make predictions using 10 K Fold CV Baseline Accuracy ROC Normalise PCA as it can have a large effect on the result then fit Print out the ratio of explained variance for each principal component Convert result to dataframe add the labels Plot with Seaborn. Lets see if that s the case. It s not a polished report and the graphs are stock Seaborn graphs but hopefully it gives you an idea of how I think about data and the sorts of things I can do. Let s see if they get paid less. I suspect if you re over worked you should be more likely to leave. com images 2016 12 18 magazine 18ai5 18mag 18ai t_CA1 master675. As MonthlyIncome is highly correlated to Job Level i m inclined to keep using that over any of these. Maybe TechCorp has trouble retaining young employees How long do employees tend to stick around at TechCo for When do the majority of employees leave In their first year perhaps Two takeaways The highest attrition rate occurs in the first year of the job. Perhaps TechCo has suddenly had a rapid expansion. It s the same for the other columns. Lets see whether age is a factor. It s almost as if this dataset isn t real O_o. The vast majority of the workforce has been at TechCo for under 10 years. What sources are best for high performing employees What factors contribute to retaining high performing employees How does satisfaction and work life balance relate to employee retention How many new hires leave in less than a year and why Part 1 Cleaning the Data Some of the rows are misaligned at different places but it appears the last row always gets filled Few missing values but appears to only be a small fraction of the entire dataset Might have some duplicates Holy Moly Lots of duplicates in here. I know from looking in Excel that certain fields are useless so lets get rid of them Lets try find some more funky rows Subset the dataset into all the numerical values Compete the correlation matrix Generate a mask for the upper triangle Set up the matplotlib figure Generate a custom diverging colormap Draw the heatmap with the mask and correct aspect ratio Lets drop the rates from the numerics dataframe Easier to join all leaver together for my analyses considering there are very few terminations Plot the distribution of age by Attrition Factor Plot the distribution of Years at Company by Attrition Plot out the counts of OverTime Chi squared test of independence H0 Overtime and Attrition are independent of each other Plot the distribution of Years at Company by Attrition Proportion of males First lets cast these string columns into categories Plot the distribution of females in this workplace It s the same looks suss Nope my code is alright Plot the distribution of females in this workplace Plot the distribution of females in this workplace Plot the distribution of age by gender It appears women are under represented at this company. The distribution of ages at this company is mostly equal but 36 38 year old middle aged males of which there are roughly 670 outnumber the rest of the age brackets. THANK YOU VERY MUCHThis brings us to the end of this little EDA. jpg u https 3A 2F 2Fwww. 6 of my sample is made up of current employees. This could be correlated to how long you ve been working at TechCo. Do males earn more at TechCo than females Females have a slightly higher monthly income than males. Let s cast them to floats. If you have any feedback I am more than welcome to receive it. It appears that barely anyone has left Considering we have people who have worked at TechCo for 40 years I would expect there to be more former than current employees. png Yay From looking at the dtypes I know there must be some issues with HourlyRate JobSatisfaction MonthlyIncome and PercentSalaryHike because they all should be floats YAY ITS PRETTY MUCH ALL CLEAN alt text https s1. alt text http theinfosphere. IBM HR Dataset Exploratory Data AnalysisSource data available here https www. As a note in scikit learn the feature importances are calculated as the gini importance or mean decrease impurity and is defined as the total decrease in node impurity weighted by the probability of reaching that node which is approximated by the proportion of samples reaching that node averaged over all trees of the ensemble. Gini impurity is a measure of how often a randomly chosen element from the set would be incorrectly labeled if it was randomly labeled according to the distribution of labels in the subset. ", "id": "dgokeeffe/ibm-hr-dataset-exploratory-data-analysis", "size": "10529", "language": "python", "html_url": "https://www.kaggle.com/code/dgokeeffe/ibm-hr-dataset-exploratory-data-analysis", "git_url": "https://www.kaggle.com/code/dgokeeffe/ibm-hr-dataset-exploratory-data-analysis", "script": "gen_features sklearn_pandas stats = gen_features functools cross_val_score numpy seaborn make_pipeline reduce scipy PCA matplotlib.pyplot sklearn.model_selection pandas RandomForestClassifier sklearn.pipeline LabelEncoder sklearn.decomposition DataFrameMapper sklearn.ensemble StandardScaler sklearn.preprocessing ", "entities": "(('you', 'then department'), 'appear') (('Perhaps unsurprisingly TotalWorkingYears', 'Job Level highly i.'), 'Takeaways') (('feature importances', 'pretty surface'), 'look') (('Age', 'JobLevel'), 'correlate') (('I', 'things'), 's') (('how long you', 'TechCo'), 'correlate') (('which', 'jobs'), 'have') (('8', '6'), 'describe') (('then where PCA', 'us'), 'extract') (('it', 'real companies'), 'go') (('which', 'time'), 'tell') (('I', 'past 12 months'), 'attrition') (('Perhaps TechCo', 'suddenly rapid expansion'), 'have') (('Perhaps only best', '10 years'), 'get') (('women', 'more Same'), 'let') (('incorrectly it', 'subset'), 'be') (('they', 'same rates'), 'appear') (('broadly anything', 'eye'), 'move') (('you', 'overtime'), 'be') (('R', 'class lot signifcant imbalance'), 'be') (('it', 'Seaborn'), 'Test') (('almost this', 'real O_o'), 's') (('I', 'attrition'), '05') (('rather proportion', 'almost exactly men'), 's') (('who', 'those'), 'see') (('who', 'less those'), 'play') (('It', 'equally ages'), 'appear') (('constructing', 'dataset'), 'be') (('attrition perhaps Two takeaways highest rate', 'job'), 'have') (('Now s', 'gender 58 Male 42 TechCo'), 'let') (('it', 'mean accuracy'), 'look') (('I', 'hard yards'), 'feel') (('Linear nice using', 'PYTHON'), 'try') (('s', 'age distributions'), 'let') (('that', 'day'), 'dataset') (('Most', 'weakly other'), 'appear') (('it', 'thing Same Freaky'), 'about') (('PCA doesn t', 'most variation'), 'tell') (('you', 'this'), 'appreciate') (('I', 'more current employees'), 'appear') (('i', 'these'), 'correlate') (('we', 'feature importances'), 'gif') (('I', 'which'), 's') (('most common monthly wage', 'K 2 3 mark'), 'let') (('this', 'Independence'), 'do') (('you', 'gender income work life balance'), 'leave') (('now Half rows', 'JobSatisfaction'), 'show') (('it', 'simply age'), 'have') (('Females', 'males'), 'earn') (('month regardless how long they', 'company'), 'see') (('PRETTY CLEAN', 'text https s1'), 'Yay') (('likely gender', 'randomly whole dataset'), 's') (('VERY MUCHThis', 'little EDA'), 'thank') (('2 times everyone', 'while'), 'be') (('women', 'company'), 'know') (('Lets', 'age brackets'), 'split') (('some', 'Holy Moly duplicates'), 'be') (('distribution', 'age roughly 670 brackets'), 'be') (('I', 'it'), 'have') (('most people', 'early 30 s.'), 'look') (('only some', 'More proof axiom'), 'be') (('vast majority', 'under 10 years'), 'be') (('who', 'so first year'), 'do') (('man', 'really much'), 'go') (('ML algorithm', 'decent predictions'), '2') (('node', 'ensemble'), 'learn') (('linearly you', 'age brackets'), 'see') (('who', 'overtime'), 'give') (('6', 'current employees'), 'make') (('which', 'sense'), 'uncorrelated') "}