{"name": "defender evaluation one cut routes double moves ", "full_name": " h1 Defender Evaluation One Cut Routes Double Moves h1 Identify the Cut h2 Below you will see Hurns s acceleration a frame by frame using a pct change function and lagging by 1 the 2 largest percent increases in the acceleration help us identify when Hurns made each cut h1 Improving Route Detail For Analysis h1 Model Approach h2 Features h2 Model h2 1 100 with 100 being the most ideal grade h1 Model Output h1 Let s Visualize h2 Where Most Metrics Fail h2 So what makes this grading system so important is that we evaluate only the most crucial aspect of the route and that is the cut h1 Targeted Coverage Score After Cut vs Targeted EPA h1 One Cut Grade vs Double Move Grade h3 How is this possible h1 Clustering Analysis h2 Cluster BLUE Best All Around h2 Cluster PINK Gamblers h2 Cluster YELLOW Conservatives h2 Cluster PURPLE Consistently Average h2 Cluster ORANGE Liabilities h1 Final Thoughts h2 Other Work h2 Data h1 Bonus Content h2 h2 h2 h2 ", "stargazers_count": 0, "forks_count": 0, "description": "to_html define grid search Predict values based on new parameters for basic mathematics operation for visualizations for interactive visualizations. Top 5 Feature importance from Tree Boosting Models Let s VisualizeLet s look at Stefon Diggs working Ronald Darby on this 10 yard out. By modeling each route individually this allows us to isolate just the receiver and cornerback interaction. groupby gameId playId Y_std. This is a perfect example to show how we can pin point the exact frames Allen Hurns made both of his cuts. gif Endzones fontname Arial fontname Arial creates a list of all csv files creates a list of all csv files Is player on offense WeekData1 pd. Diggs pushes towards the sideline while Darby is still moving in the opposite direction. where WeekData1 frameId WeekData1 run_pass_option 1 0 self. A final grade of 12. com media 2UtOjJh635SBmLMou3 giphy. reset_index Find defender orientation are they looking at the receiver Find outside receivers Apply Acceleration pct change function Cumulative sum of yards from line of scrimmage will help us determine specific routes. com media wdIRaIIikhq7LHRV9a giphy. Here are the new routes for our analysis Single Cuts Slant 5yd OUT 10yd OUT 15yd OUT 5yd IN 10yd IN 15yd IN 5yd HITCH 10yd HITCH 15yd HITCHOn plays where the receiver makes 2 cuts and heads up field we can use alignment info and the cumulative sum of the Y coordinate difference from the line of scrimmage to find out which direction the receiver moved to make their first cut either IN or OUT Double Moves IN GO This will contain Slant n Go s Sluggos OUT GO This will contain Out n up s Hitch n Go s Model Approach Features Outside WR 1 Yes 0 No Press Coverage 1 Yes 0 No Separation Mean Max Var Last Frame Separation Percent Change Mean Max Min Var Defender Velocity dx relative to X axis Mean Max Min Var Last Frame Defender Acceleration Mean Max Min Var Last Frame Defender Orientation Angle Diff from receiver location Mean Max Min Var Last Frame Defender Receiver Acceleration Difference Mean Max Min Var Last Frame Defender Receiver Velocity dx relative to X axis Difference Mean Max Min Var Last Frame Defender Receiver Velocity dy relative to Y axis Difference Mean Max Min Var Last Frame Defender Receiver Acceleration Percent Change Difference Mean Max Min Var Last Frame Max Separation Frame Cut Frame Difference Difference between Defender and receiver cut frames Difference between separation at start of cut and 2. EPA cannot account for bad coverages on errant throws drops and non targeted receivers EPA cannot account for good coverages on plays where there s good coverage but a miraculous catch and non targeted receivers Average Separation is too vague and could potentially be skewed. com jdruzzi shadow cornerback coverage analysis 2. Cluster PURPLE Consistently AverageThese players should not be feared by opponents they are middle of the pack in both categories. 5 seconds after the receiver makes their first cut on single cut routes and use their 2nd cut on double move routes. add_patch Polygon row. Clustering Analysis Cluster BLUE Best All AroundThese players are very rare they are disciplined enough to stay with the receiver on double moves as well as perform the best in the league when breaking on single cut routes. What is also unique about this grading system is that it can also be used to evaluate cornerbacks that were not targeted on the play because we are only observing the receiver cornerback interaction with no knowledge of the pass outcome. Below you will see Hurns s acceleration a frame by frame using a pct_change function and lagging by 1 the 2 largest percent increases in the acceleration help us identify when Hurns made each cut. Cluster PINK GamblersThese players will perform well on any breaking route thrown to them however their knack for jumping routes will pay the price when a talented receiver runs a crisp double move on them for a big play. For example difference in velocity relative to the X axis may be a non factor when evaluating coverage on an out route but it may be a crucial feature when evaluating a hitch comeback. com jdruzzi quantifying press coverage ability 5. Defender Tendencies One Cut Routes Double Moves https www. e cut at 10 yds 10 yd Hitch Is the receiver on the left or right side of the formation Press or no press coverage May seem confusing but we are trying to find the 1 2 maxima pct changes for each play. We actually see a slight negative correlation of. sort_values by All ascending False. 43 for Ronald Darby indicating bad coverage after the receiver cut Where Most Metrics FailMetrics like average EPA and average Separation are popular when evaluating cornerback talent but they fail to tell the full story. We have all of the pct changes in a list however some plays share the same pct change so we can add pct change playid gameid nflid to create unique values in the list instead of using iterrows function this method actually saves us a lot of time even though it is unorthodox Find cut frames Only keep data on after receiver is made their first cut print name display HTML fea_imp. The modern day NFL route tree has evolved to a point where nearly every route involves some sort of cut or multiple cuts. com jdruzzi defender bite velocity on play action 3. _a_tri_list index self. Logic Not all routes can be evaluated the same way. Defender Evaluation One Cut Routes Double MovesSome may argue that the most critical aspect of man to man coverage relies on the cornerback s ability to stay with the receiver after he makes his cut. com jdruzzi pass coverage classification 80 recall 4. This submission also demonstrated a way to create detailed routes by analyzing the receiver s acceleration change frame by frame and the grading model can be flipped to quantify receiver route running ability for scouts and offensive coaches. 13 between One Cut Rank and Double Move Rank How is this possible Some defenders could be more lax in coverage to prevent the double move from occurring thus giving them a bad one cut rank and a good double move ranking. Using logistic regression we will predict Defender Success where completion 0 and incomplete interception 1We can use the predicted probability of defender success normalize it and then multiply by 100 to create a scoring function. I will highlight a few features to better help visualize this grading system. So what makes this grading system so important is that we evaluate only the most crucial aspect of the route and that is the cut. Double Move GradeWe can rank the defender among their peers for One Cuts and Double Moves and we will check the correlation. Defender Bite Velocity on Play Action https www. remove self. Pass Coverage Classification https www. Cluster ORANGE LiabilitiesThis group has difficulty staying with a receiver on any single cut route as well as any double move. Max Defender Orientation Darby gets completely turned around on the route we can capture this by taking the mean max and variance of the defender s orientation relative to the receiver s position on the field. We want to quantify how well the defender can stay with the receiver after he makes his initial cut on one cut routes and second cut on double moves. com media JtCRRORLG0zzUeA1lq giphy. gif Identify the CutAbove you will see Allen Hurns run a double move called a Sluggo route in which his initial cut led Malcolm Butler to believe he s running a slant only to make a second cut up field blowing right by him for an easy touchdown. Teams should be actively targeting these players Final Thoughts Using this grading system we can evaluate who is best defending one cut routes as well as double moves. com jdruzzi defender tendencies one cut routes double moves Data Revised BDB Data https www. sort_values by TestF1 ascending False. Shadow Cornerback Coverage Analysis https www. to_html display HTML df. 53 between this grading system and EPA thus confirming that there is potentially a relationship between a defender who can stay with a receiver after the cut and fewer expected points added. We can identify each group with the use of clustering. Y_std_QB closed True fill False hatch color lime Find outside receivers. com media f4naKrzrdy6cNNV6SE giphy. gif https media. We were able to show The magnitude of the separation change The difference from when the receiver makes his cut to 2. com media t2o10PsQUtAUCmFeLq giphy. The clustering analysis shows that some defenders have certain tendencies when defending these types of routes NFL coaches can exploit these tendencies when creating their game plan for the week. merge df NotNone how left left_on gameId playId right_on gameId playId WeekData1 After_run_pass_option np. com jdruzzi quantifying press coverage ability. 5 seconds after ModelI will use a similar approach to my other submission https www. Except this time we will use data for only 2. Model Output Route Logistic Regression grid search parameters Model accuracy predicting Defender Success F1 score of the model to ensure model validity Avg. Cluster YELLOW ConservativesThese players will refuse to let up big plays against them by maintaining strict discipline on double moves however their conservative play allows teams to dink and dunk down the field on easy one cut routes. Improving Route Detail For AnalysisNow that we know when the receivers make their cut we can create a more in depth view of the route by taking the cumulative sum difference of the receiver s X position from the line of scrimmage and rounding the cut yardage in increments of 5. com media r48xl3h1AzQufggLMP giphy. Targeted EPAThere is a strong negative correlation of. Targeted Coverage Score After Cut vs. We can do this by analyzing Hurns s acceleration percent change frame by frame. Defender Grade MinMaxScalar P Defender Success x 1001 100 with 100 being the most ideal grade. Another reason we train each route individually is because this scoring metric is an inverse of completion probability model so air yards and other factors may affect the scoring system. Quantifying Press Coverage https www. The cornerback could be inches away from the receiver for the entirety of the route only to be left in the dust in the final seconds when the receiver makes his break. com jdruzzi revised bdb data Bonus Content https media. 5 seconds after the cut The max difference in sideline Velocity dy You can see the massive 5 pt difference in velocity moving from sideline to sideline. Single Cut Routes Hitches Slants Outs Digs Ins and Comebacks Double Move Routes Out n up s Slant n Go s Sluggos Hitch n Go s https media. Another group of defenders will be overly aggressive and try to jump on every one cut route leading them to be burned on double moves. gif Notice how the defender maintains close distance with the receiver up until he makes his cut. Instead of throwing all routes into the same model we will loop through and generate a model for each route append the score predictions to the corresponding play and then concatenate the dataset back together. ", "id": "jdruzzi/defender-evaluation-one-cut-routes-double-moves", "size": "11281", "language": "python", "html_url": "https://www.kaggle.com/code/jdruzzi/defender-evaluation-one-cut-routes-double-moves", "git_url": "https://www.kaggle.com/code/jdruzzi/defender-evaluation-one-cut-routes-double-moves", "script": "tools polar_to_z lightgbm get_dx_dy imblearn.under_sampling sklearn.discriminant_analysis SMOTE SimpleImputer make_classification MLPClassifier recall_score convert_orientation BaggingClassifier voronoi_plot_2d GaussianNB BallTree sklearn.neighbors matplotlib.patches CreateNFLData sklearn.linear_model plotting GaussianProcessClassifier matplotlib.pyplot Polygon BDBUtils.Utilities sklearn.pipeline scipy.stats sklearn.impute Pipeline argrelextrema SettingWithCopyWarning sklearn.feature_selection cross_val_predict accuracy_score cross_val_score sklearn.cluster sklearn.svm animation catboost SGDClassifier pandas.core.common imblearn.over_sampling MultinomialNB QuadraticDiscriminantAnalysis sklearn.naive_bayes import_data sklearn tensorflow matplotlib.patheffects highlight_max StratifiedKFold Voronoi MinMaxScaler svm plotly.graph_objs pandas scipy.spatial setup_plot LogisticRegression average_precision_score matplotlib FrameData AdaBoostClassifier GridSearchCV GradientBoostingRegressor sklearn.ensemble create_football_field SelectFromModel RidgeClassifier Arrow get_maxima AnimatePlay IPython.core.display set_axis_plots IPython.display init_notebook_mode CatBoostClassifier numpy ExtraTreesClassifier randint LinearSVC plotly LGBMClassifier reduce_mem_usage sklearn.tree deg_to_rad DecisionTreeClassifier RandomTreesEmbedding plotly.offline iplot RandomForestClassifier scipy.signal imblearn.pipeline Predictions RepeatedStratifiedKFold LoadData plotly.figure_factory VotingClassifier HTML sklearn.metrics StandardScaler data_stream train_test_split Rectangle update seaborn sklearn.datasets f1_score SVC Standardize tqdm GradientBoostingClassifier sklearn.neural_network PCA RandomUnderSampler KFold use uniform sklearn.model_selection KMeans datetime rc mean_squared_error RandomizedSearchCV KNeighborsClassifier __init__ sklearn.decomposition sklearn.gaussian_process make_scorer sklearn.preprocessing ", "entities": "(('submission', 'scouts'), 'demonstrate') (('gif Endzones fontname Arial Arial', 'offense pd'), 'fontname') (('pt massive 5 difference', 'sideline'), 'difference') (('us', 'specific routes'), 'look') (('it', 'hitch crucial when comeback'), 'be') (('we', 'field'), 'turn') (('Y_std_QB', 'outside receivers'), 'closed') (('we', 'pass outcome'), 'be') (('we', 'then dataset'), 'of') (('Double we', 'correlation'), 'rank') (('very they', 'cut when single routes'), 'cluster') (('where nearly every route', 'cut'), 'evolve') (('defenders', 'thus bad one cut rank'), '13') (('he', 'second double moves'), 'want') (('5 seconds ModelI', 'submission https other www'), 'use') (('when talented receiver', 'big play'), 'perform') (('we', '5'), 'improve') (('0 incomplete 1We', 'scoring function'), 'predict') (('cut', 'receiver'), '53') (('when receiver', '2'), 'be') (('1 maxima 2 pct', 'play'), 'be') (('Frame Defender Receiver Acceleration Percent Change Last Difference', 'cut'), 'be') (('when Hurns', 'cut'), 'see') (('Cluster ORANGE LiabilitiesThis group', 'cut single route'), 'have') (('5 seconds receiver', 'move double routes'), 'make') (('they', 'categories'), 'purple') (('up he', 'cut'), 'Notice') (('Find', 'receiver'), 'have') (('com jdruzzi defender one cut routes', 'Data Revised BDB Data https double www'), 'tendency') (('NFL coaches', 'week'), 'show') (('we', 'only 2'), 'use') (('We', 'clustering'), 'identify') (('when receiver', 'break'), 'be') (('us', 'just receiver'), 'allow') (('teams', 'easy one cut routes'), 'refuse') (('receivers Average where good miraculous non targeted Separation', 'plays'), 'account') (('that', 'route'), 'be') (('he', 'easy touchdown'), 'Identify') (('We', 'frame'), 'do') (('We', 'actually slight negative correlation'), 'see') (('com jdruzzi', 'coverage classification'), 'pass') (('air yards', 'scoring other system'), 'be') (('group', 'double moves'), 'be') (('Darby', 'still opposite direction'), 'push') (('they', 'full story'), '43') (('I', 'better grading system'), 'highlight') (('who', 'cut best one routes'), 'target') (('VisualizeLet s', '10 yard'), 'Top') (('com jdruzzi', 'bdb data Bonus Content https media'), 'revised') (('he', 'cut'), 'argue') (('exact frames', 'cuts'), 'be') "}