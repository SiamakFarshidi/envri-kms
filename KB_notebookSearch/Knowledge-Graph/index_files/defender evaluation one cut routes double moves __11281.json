{"name": "defender evaluation one cut routes double moves ", "full_name": " h1 Defender Evaluation One Cut Routes Double Moves h1 Identify the Cut h2 Below you will see Hurns s acceleration a frame by frame using a pct change function and lagging by 1 the 2 largest percent increases in the acceleration help us identify when Hurns made each cut h1 Improving Route Detail For Analysis h1 Model Approach h2 Features h2 Model h2 1 100 with 100 being the most ideal grade h1 Model Output h1 Let s Visualize h2 Where Most Metrics Fail h2 So what makes this grading system so important is that we evaluate only the most crucial aspect of the route and that is the cut h1 Targeted Coverage Score After Cut vs Targeted EPA h1 One Cut Grade vs Double Move Grade h3 How is this possible h1 Clustering Analysis h2 Cluster BLUE Best All Around h2 Cluster PINK Gamblers h2 Cluster YELLOW Conservatives h2 Cluster PURPLE Consistently Average h2 Cluster ORANGE Liabilities h1 Final Thoughts h2 Other Work h2 Data h1 Bonus Content h2 h2 h2 h2 ", "stargazers_count": 0, "forks_count": 0, "description": "e cut at 10 yds 10 yd Hitch Is the receiver on the left or right side of the formation Press or no press coverage May seem confusing but we are trying to find the 1 2 maxima pct changes for each play. Defender Bite Velocity on Play Action https www. This submission also demonstrated a way to create detailed routes by analyzing the receiver s acceleration change frame by frame and the grading model can be flipped to quantify receiver route running ability for scouts and offensive coaches. Defender Tendencies One Cut Routes Double Moves https www. A final grade of 12. 13 between One Cut Rank and Double Move Rank How is this possible Some defenders could be more lax in coverage to prevent the double move from occurring thus giving them a bad one cut rank and a good double move ranking. Targeted EPAThere is a strong negative correlation of. com jdruzzi defender bite velocity on play action 3. Except this time we will use data for only 2. gif https media. By modeling each route individually this allows us to isolate just the receiver and cornerback interaction. to_html display HTML df. Targeted Coverage Score After Cut vs. Shadow Cornerback Coverage Analysis https www. groupby gameId playId Y_std. 5 seconds after the receiver makes their first cut on single cut routes and use their 2nd cut on double move routes. We want to quantify how well the defender can stay with the receiver after he makes his initial cut on one cut routes and second cut on double moves. com jdruzzi pass coverage classification 80 recall 4. gif Endzones fontname Arial fontname Arial creates a list of all csv files creates a list of all csv files Is player on offense WeekData1 pd. Double Move GradeWe can rank the defender among their peers for One Cuts and Double Moves and we will check the correlation. Pass Coverage Classification https www. Cluster ORANGE LiabilitiesThis group has difficulty staying with a receiver on any single cut route as well as any double move. I will highlight a few features to better help visualize this grading system. Diggs pushes towards the sideline while Darby is still moving in the opposite direction. 53 between this grading system and EPA thus confirming that there is potentially a relationship between a defender who can stay with a receiver after the cut and fewer expected points added. This is a perfect example to show how we can pin point the exact frames Allen Hurns made both of his cuts. Model Output Route Logistic Regression grid search parameters Model accuracy predicting Defender Success F1 score of the model to ensure model validity Avg. remove self. 5 seconds after ModelI will use a similar approach to my other submission https www. Using logistic regression we will predict Defender Success where completion 0 and incomplete interception 1We can use the predicted probability of defender success normalize it and then multiply by 100 to create a scoring function. where WeekData1 frameId WeekData1 run_pass_option 1 0 self. Quantifying Press Coverage https www. Improving Route Detail For AnalysisNow that we know when the receivers make their cut we can create a more in depth view of the route by taking the cumulative sum difference of the receiver s X position from the line of scrimmage and rounding the cut yardage in increments of 5. Another reason we train each route individually is because this scoring metric is an inverse of completion probability model so air yards and other factors may affect the scoring system. Defender Grade MinMaxScalar P Defender Success x 1001 100 with 100 being the most ideal grade. com media t2o10PsQUtAUCmFeLq giphy. Logic Not all routes can be evaluated the same way. sort_values by All ascending False. com media JtCRRORLG0zzUeA1lq giphy. EPA cannot account for bad coverages on errant throws drops and non targeted receivers EPA cannot account for good coverages on plays where there s good coverage but a miraculous catch and non targeted receivers Average Separation is too vague and could potentially be skewed. What is also unique about this grading system is that it can also be used to evaluate cornerbacks that were not targeted on the play because we are only observing the receiver cornerback interaction with no knowledge of the pass outcome. com jdruzzi revised bdb data Bonus Content https media. Here are the new routes for our analysis Single Cuts Slant 5yd OUT 10yd OUT 15yd OUT 5yd IN 10yd IN 15yd IN 5yd HITCH 10yd HITCH 15yd HITCHOn plays where the receiver makes 2 cuts and heads up field we can use alignment info and the cumulative sum of the Y coordinate difference from the line of scrimmage to find out which direction the receiver moved to make their first cut either IN or OUT Double Moves IN GO This will contain Slant n Go s Sluggos OUT GO This will contain Out n up s Hitch n Go s Model Approach Features Outside WR 1 Yes 0 No Press Coverage 1 Yes 0 No Separation Mean Max Var Last Frame Separation Percent Change Mean Max Min Var Defender Velocity dx relative to X axis Mean Max Min Var Last Frame Defender Acceleration Mean Max Min Var Last Frame Defender Orientation Angle Diff from receiver location Mean Max Min Var Last Frame Defender Receiver Acceleration Difference Mean Max Min Var Last Frame Defender Receiver Velocity dx relative to X axis Difference Mean Max Min Var Last Frame Defender Receiver Velocity dy relative to Y axis Difference Mean Max Min Var Last Frame Defender Receiver Acceleration Percent Change Difference Mean Max Min Var Last Frame Max Separation Frame Cut Frame Difference Difference between Defender and receiver cut frames Difference between separation at start of cut and 2. Top 5 Feature importance from Tree Boosting Models Let s VisualizeLet s look at Stefon Diggs working Ronald Darby on this 10 yard out. _a_tri_list index self. Instead of throwing all routes into the same model we will loop through and generate a model for each route append the score predictions to the corresponding play and then concatenate the dataset back together. com jdruzzi defender tendencies one cut routes double moves Data Revised BDB Data https www. com media f4naKrzrdy6cNNV6SE giphy. 5 seconds after the cut The max difference in sideline Velocity dy You can see the massive 5 pt difference in velocity moving from sideline to sideline. We have all of the pct changes in a list however some plays share the same pct change so we can add pct change playid gameid nflid to create unique values in the list instead of using iterrows function this method actually saves us a lot of time even though it is unorthodox Find cut frames Only keep data on after receiver is made their first cut print name display HTML fea_imp. The cornerback could be inches away from the receiver for the entirety of the route only to be left in the dust in the final seconds when the receiver makes his break. to_html define grid search Predict values based on new parameters for basic mathematics operation for visualizations for interactive visualizations. com jdruzzi quantifying press coverage ability 5. Teams should be actively targeting these players Final Thoughts Using this grading system we can evaluate who is best defending one cut routes as well as double moves. 43 for Ronald Darby indicating bad coverage after the receiver cut Where Most Metrics FailMetrics like average EPA and average Separation are popular when evaluating cornerback talent but they fail to tell the full story. The clustering analysis shows that some defenders have certain tendencies when defending these types of routes NFL coaches can exploit these tendencies when creating their game plan for the week. Cluster YELLOW ConservativesThese players will refuse to let up big plays against them by maintaining strict discipline on double moves however their conservative play allows teams to dink and dunk down the field on easy one cut routes. We can identify each group with the use of clustering. com jdruzzi shadow cornerback coverage analysis 2. Clustering Analysis Cluster BLUE Best All AroundThese players are very rare they are disciplined enough to stay with the receiver on double moves as well as perform the best in the league when breaking on single cut routes. We were able to show The magnitude of the separation change The difference from when the receiver makes his cut to 2. Single Cut Routes Hitches Slants Outs Digs Ins and Comebacks Double Move Routes Out n up s Slant n Go s Sluggos Hitch n Go s https media. merge df NotNone how left left_on gameId playId right_on gameId playId WeekData1 After_run_pass_option np. sort_values by TestF1 ascending False. For example difference in velocity relative to the X axis may be a non factor when evaluating coverage on an out route but it may be a crucial feature when evaluating a hitch comeback. gif Notice how the defender maintains close distance with the receiver up until he makes his cut. com media 2UtOjJh635SBmLMou3 giphy. Y_std_QB closed True fill False hatch color lime Find outside receivers. com media r48xl3h1AzQufggLMP giphy. reset_index Find defender orientation are they looking at the receiver Find outside receivers Apply Acceleration pct change function Cumulative sum of yards from line of scrimmage will help us determine specific routes. Cluster PURPLE Consistently AverageThese players should not be feared by opponents they are middle of the pack in both categories. Below you will see Hurns s acceleration a frame by frame using a pct_change function and lagging by 1 the 2 largest percent increases in the acceleration help us identify when Hurns made each cut. Defender Evaluation One Cut Routes Double MovesSome may argue that the most critical aspect of man to man coverage relies on the cornerback s ability to stay with the receiver after he makes his cut. Cluster PINK GamblersThese players will perform well on any breaking route thrown to them however their knack for jumping routes will pay the price when a talented receiver runs a crisp double move on them for a big play. So what makes this grading system so important is that we evaluate only the most crucial aspect of the route and that is the cut. The modern day NFL route tree has evolved to a point where nearly every route involves some sort of cut or multiple cuts. We actually see a slight negative correlation of. add_patch Polygon row. com jdruzzi quantifying press coverage ability. Max Defender Orientation Darby gets completely turned around on the route we can capture this by taking the mean max and variance of the defender s orientation relative to the receiver s position on the field. We can do this by analyzing Hurns s acceleration percent change frame by frame. gif Identify the CutAbove you will see Allen Hurns run a double move called a Sluggo route in which his initial cut led Malcolm Butler to believe he s running a slant only to make a second cut up field blowing right by him for an easy touchdown. Another group of defenders will be overly aggressive and try to jump on every one cut route leading them to be burned on double moves. com media wdIRaIIikhq7LHRV9a giphy. ", "id": "jdruzzi/defender-evaluation-one-cut-routes-double-moves", "size": "11281", "language": "python", "html_url": "https://www.kaggle.com/code/jdruzzi/defender-evaluation-one-cut-routes-double-moves", "git_url": "https://www.kaggle.com/code/jdruzzi/defender-evaluation-one-cut-routes-double-moves", "script": "sklearn.metrics animation PCA RidgeClassifier matplotlib.patheffects Voronoi sklearn.gaussian_process MinMaxScaler uniform DecisionTreeClassifier SMOTE iplot plotly.graph_objs SimpleImputer sklearn.decomposition get_maxima sklearn.model_selection f1_score KFold LoadData polar_to_z imblearn.under_sampling imblearn.pipeline LogisticRegression sklearn.datasets LGBMClassifier scipy.signal reduce_mem_usage init_notebook_mode GaussianProcessClassifier sklearn.svm deg_to_rad MLPClassifier train_test_split create_football_field cross_val_score sklearn.naive_bayes sklearn.discriminant_analysis KMeans recall_score KNeighborsClassifier average_precision_score argrelextrema mean_squared_error seaborn numpy sklearn.pipeline SGDClassifier MultinomialNB sklearn.impute scipy.stats VotingClassifier tools IPython.core.display use tensorflow pandas Pipeline plotting Polygon BallTree GridSearchCV sklearn.linear_model matplotlib Arrow FrameData update plotly.figure_factory Rectangle HTML rc plotly.offline BaggingClassifier matplotlib.patches LinearSVC data_stream scipy.spatial CatBoostClassifier Predictions ExtraTreesClassifier cross_val_predict QuadraticDiscriminantAnalysis accuracy_score sklearn.feature_selection AnimatePlay GaussianNB make_scorer import_data datetime IPython.display __init__ convert_orientation randint sklearn.tree lightgbm sklearn.cluster RandomUnderSampler AdaBoostClassifier set_axis_plots RandomTreesEmbedding get_dx_dy make_classification sklearn.neural_network SettingWithCopyWarning RepeatedStratifiedKFold setup_plot BDBUtils.Utilities GradientBoostingRegressor GradientBoostingClassifier plotly Standardize sklearn.ensemble CreateNFLData highlight_max sklearn voronoi_plot_2d imblearn.over_sampling RandomForestClassifier matplotlib.pyplot StandardScaler tqdm svm pandas.core.common sklearn.neighbors SVC sklearn.preprocessing catboost StratifiedKFold RandomizedSearchCV SelectFromModel ", "entities": "(('when talented receiver', 'big play'), 'perform') (('receivers Average where good miraculous non targeted Separation', 'plays'), 'account') (('he', 'cut'), 'argue') (('we', 'field'), 'turn') (('that', 'route'), 'be') (('gif Endzones fontname Arial Arial', 'offense pd'), 'fontname') (('group', 'double moves'), 'be') (('exact frames', 'cuts'), 'be') (('5 seconds receiver', 'move double routes'), 'make') (('when receiver', '2'), 'be') (('we', 'only 2'), 'use') (('up he', 'cut'), 'Notice') (('where nearly every route', 'cut'), 'evolve') (('We', 'clustering'), 'identify') (('5 seconds ModelI', 'submission https other www'), 'use') (('teams', 'easy one cut routes'), 'refuse') (('Double we', 'correlation'), 'rank') (('defenders', 'thus bad one cut rank'), '13') (('he', 'easy touchdown'), 'Identify') (('I', 'better grading system'), 'highlight') (('NFL coaches', 'week'), 'show') (('very they', 'cut when single routes'), 'cluster') (('they', 'categories'), 'purple') (('pt massive 5 difference', 'sideline'), 'difference') (('it', 'hitch crucial when comeback'), 'be') (('com jdruzzi', 'bdb data Bonus Content https media'), 'revised') (('We', 'frame'), 'do') (('cut', 'receiver'), '53') (('VisualizeLet s', '10 yard'), 'Top') (('com jdruzzi', 'coverage classification'), 'pass') (('1 maxima 2 pct', 'play'), 'be') (('com jdruzzi defender one cut routes', 'Data Revised BDB Data https double www'), 'tendency') (('Y_std_QB', 'outside receivers'), 'closed') (('they', 'full story'), '43') (('air yards', 'scoring other system'), 'be') (('Frame Defender Receiver Acceleration Percent Change Last Difference', 'cut'), 'be') (('when receiver', 'break'), 'be') (('We', 'actually slight negative correlation'), 'see') (('we', '5'), 'improve') (('us', 'specific routes'), 'look') (('Darby', 'still opposite direction'), 'push') (('he', 'second double moves'), 'want') (('we', 'pass outcome'), 'be') (('submission', 'scouts'), 'demonstrate') (('0 incomplete 1We', 'scoring function'), 'predict') (('Find', 'receiver'), 'have') (('when Hurns', 'cut'), 'see') (('we', 'then dataset'), 'of') (('us', 'just receiver'), 'allow') (('who', 'cut best one routes'), 'target') (('Cluster ORANGE LiabilitiesThis group', 'cut single route'), 'have') ", "extra": "['outcome', 'test']"}